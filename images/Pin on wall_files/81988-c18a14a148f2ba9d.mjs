(self.modernJsonp=self.modernJsonp||[]).push([["81988"],{183594(e,t,a){var l,n;a.r(t),a.d(t,{default:()=>s});let i=(n=[l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let s=i},405940(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};l.hash="5879c4710b107f258f42156bf3e47e37";let n=l},456359(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};l.hash="4970946a36017d9ad0c751fd70cc512c";let n=l},263986(e,t,a){var l,n,i;a.r(t),a.d(t,{default:()=>r});let s=(n=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[l],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[l,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});s.hash="fa2efeb6b4c660680d9f3a0e156c8007";let r=s},985455(e,t,a){var l,n,i,s,r,o;a.r(t),a.d(t,{default:()=>c});let d=(l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],o=[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinBetterSave_pin",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},n,l,i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,l,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"PinSaveRequestRepinWithSectionSuggestions_pin"},{args:null,kind:"FragmentSpread",name:"PinToBoard_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null});d.hash="30d8edb71deeb3f1a4abc132d299e97a";let c=d},925878(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinBetterSave_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"cutoutImages_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'cutoutImages(spec:"236x")'},{args:null,kind:"FragmentSpread",name:"PinSaveRequestRepinWithSectionSuggestions_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"PinToBoard_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};l.hash="1f53887e43dccddcc1fb109a988e5c3d";let n=l},501978(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequestRepinWithSectionSuggestions_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinSaveRequest_pin"}],type:"Pin",abstractKey:null};l.hash="03aa6b9cad1d5fb9b12a7c896ccdaffd";let n=l},727999(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequestRepinWithSectionSuggestions_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinSaveRequest_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};l.hash="6bd1eb83cfe5391288164b17cc5d85b7";let n=l},150859(e,t,a){var l,n,i;a.r(t),a.d(t,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:"noticeId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"content_image_url",args:null,kind:"ScalarField",name:"contentImageUrl",storageKey:null},{alias:"suggested_resource",args:null,kind:"ScalarField",name:"suggestedResource",storageKey:null},{alias:"image_type",args:null,kind:"ScalarField",name:"imageType",storageKey:null},i={alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n=[l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l,{alias:"contact_type",args:null,kind:"ScalarField",name:"contactType",storageKey:null}],storageKey:null},i,{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};s.hash="6e21ec048bb4ac7d621865a42cf02a6c";let r=s},883666(e,t,a){var l,n;a.r(t),a.d(t,{default:()=>s});let i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:n},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};i.hash="7005ce437a6a6ff33741ab44aa02cf61";let s=i},921395(e,t,a){var l,n;a.r(t),a.d(t,{default:()=>s});let i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:n},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};i.hash="40ae8061007ba5f53a4570e43e4ca864";let s=i},264770(e,t,a){var l,n,i,s;a.r(t),a.d(t,{default:()=>o});let r={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"ban"},n={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:s=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,l],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:s},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};r.hash="c62e5df78917dd238b70f366f358d487";let o=r},577762(e,t,a){var l,n,i,s,r,o,d,c;a.r(t),a.d(t,{default:()=>_});let u={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,o,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="2c3e1508650962adfff1171e950fa419";let _=u},398907(e,t,a){var l,n,i,s,r,o,d,c,u,_;a.r(t),a.d(t,{default:()=>h});let p=(l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r=[s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},_=[s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:r,storageKey:null},o,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:_,storageKey:null},o,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:_,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});p.hash="9aa22a7713214239538142ad2c957cc3";let h=p},805326(e,t,a){var l,n;a.r(t),a.d(t,{default:()=>s});let i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_emails_Mutation",selections:n},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};i.hash="de392a939a95d05f7ee889fe77a9e52d";let s=i},110619(e,t,a){var l,n,i,s;a.r(t),a.d(t,{default:()=>o});let r={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},i={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:s=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,l,i],kind:"Operation",name:"collab_users_Mutation",selections:s},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};r.hash="850c5de9834cac0edfdd5652a78bffbf";let o=r},201563(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};l.hash="547e5abdb645851996d6a1b1a4027c56";let n=l},874929(e,t,a){a.d(t,{Kq:()=>P,bn:()=>x,N_:()=>C});var l=a(859471),n=a(739428),i=a(406218),s=a(253913);let r=(e,t,a)=>a&&(0,i.BP)(a,t)?n.c.MODIFIED:(0,i.TN)(t,e)||a&&(0,i.oA)(a,e)||(0,i.oA)(t,e)?n.c.CLEARED:n.c.APPLIED;function o(e,t){(0,i.i2)(t);let a=e.find(e=>e?.id===t.id),l=a?.rules,n=a?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||l;if(!n)return[e,[]];let s=[],r=[];return e.forEach(e=>{void 0!==e.product_filter_type&&n.includes(e.product_filter_type)?s.push(e):r.push(e)}),[s,r]}function d(e,t){switch(t.type){case"RESET_FILTERS":let[a,l]=t.payload,d=a,c=(0,s.A)(l)?(0,i.$M)(a):l;return Object.values(c).forEach(e=>{let[t]=o(d,e);d=t}),{models:a,availableFilterModels:d,appliedFilters:l,filters:c,isFetching:!1,pendingDeletedSelections:{},status:r(a,l,c)};case"CLEAR_FILTERS":let u=e.models,_=(0,i.Oj)(e.models);return Object.values(_).forEach(e=>{let[t]=o(u,e);u=t}),{...e,filters:_,availableFilterModels:u,pendingDeletedSelections:{},status:r(e.models,e.appliedFilters,_)};case"UPDATE_FILTER":let{payload:p}=t,[h,g]=o(e.models,p),m={...e.filters,[p.id]:p},f={...e.pendingDeletedSelections};return h.forEach(e=>{if(!e.id)return;let t=f[e.id];t&&(m[e.id]=t,delete f[e.id])}),g.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(f[e.id]=t,delete m[e.id])}),(0,i.i2)(p,e.models.find(e=>e.id===p.id))&&delete m[p.id],{...e,availableFilterModels:h,filters:m,pendingDeletedSelections:f,status:r(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:n.c.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:n.c.FAILED};case"SUBMIT_COMPLETE":let{filters:b}=e;return{...e,appliedFilters:b,pendingDeletedSelections:{},status:r(e.models,b)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var c=a(393807),u=a(702949),_=a(149562),p=a(156508),h=a(427403),g=a(33658);let m=new Set([1,0,3,6,7,8,9]),f=(e,t,a)=>{let l=t?.find(({product_filter_type:e})=>e===a);if(!l)return;let n=e.findIndex(({product_filter_type:e})=>e===a);e[n]?e[n]=l:e.push(l)},b=(e,t,a)=>{let l=t?.find(({product_filter_type:e})=>e===a);if(!l)return e;let n=e.findIndex(({product_filter_type:e})=>e===a);return e[n]?e[n]=l:e.push(l),e};var y=a(392026),A=a(987628),v=a(106301),S=a(562615);let{Provider:P,getMaybe:x}=(0,A.A)("UnifiedFiltersContext"),C=({applyInitFilters:e,children:t,filterModels:a,filters:s,isFetching:r,refreshFiltersData:o})=>{let{query:A}=(0,v.u)(),x=(0,y.A)(),{getCachedFilters:C,cacheUnifiedFilterModelsWithProductFilters:I}=function(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(null),i=(0,h.A)(),s=(0,_.A)(),r=(0,c.A)(),o=(0,u.A)(),d=(0,p.A)(),y=(0,l.useCallback)(({unifiedFilterModels:l,baseCacheKey:c})=>{let u=l?.filter(({product_filter_type:e})=>void 0!==e&&m.has(e));if(!u||u?.length===0||!c)return;let _=c!==a,p=_?[]:e;(_||!i)&&f(p,u,1),(_||!s)&&f(p,u,0),(_||!r)&&f(p,u,3),(_||!o)&&f(p,u,6),(_||!d)&&[7,8,9].forEach(e=>{f(p,u,e)}),(0,g.Ay)(p,e)||(t(p),n(c))},[e,r,o,s,d,i,a]);return{getCachedFilters:(0,l.useCallback)(t=>{if(!t||t?.length===0)return[];let a=[...t];return i&&(a=b(a,e,1)),s&&(a=b(a,e,0)),r&&(a=b(a,e,3)),o&&(a=b(a,e,6)),d&&[7,8,9].forEach(t=>{a=b(a,e,t)}),a},[e,r,o,s,d,i]),cacheUnifiedFilterModelsWithProductFilters:y}}(),k=e?.(a)||s||{},[w,T]=(0,l.useReducer)(d,{models:a,availableFilterModels:a,appliedFilters:k,filters:k,pendingDeletedSelections:{},isFetching:r,status:(0,i.TN)(k,a)||(0,i.oA)(k,a)?n.c.CLEARED:n.c.APPLIED}),[z,E]=(0,l.useState)(a);(0,l.useEffect)(()=>{r&&T({type:"LOADING"})},[r]),(0,l.useEffect)(()=>{if(r||w.isFetching&&0===a.length)return;if(!(0,i.Sp)(z,a))return void T({type:"LOADING_COMPLETED_OR_FAILED"});let t=a;x||(t=C([...a]),I({unifiedFilterModels:[...a],baseCacheKey:A})),T({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),E(a)},[e,a,z,r,w.isFetching,C,I,A,x]);let j=(0,l.useMemo)(()=>({filterState:w,dispatch:T,refreshFiltersData:o}),[w,o]);return(0,S.jsx)(P,{value:j,children:t})}},739428(e,t,a){a.d(t,{c:()=>l});let l={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},607126(e,t,a){a.d(t,{A:()=>c});var l=a(836664),n=a(874929),i=a(406218),s=a(62963),r=a(5302),o=a(307079),d=a(106301);function c(){let{brands:e,colors:t,domains:a,onSale:c,priceMax:u,priceMin:_}=(0,d.u)(),p=(0,n.bn)(),{cachedProductFilterOneBarModules:h}=(0,l.x)(),g=Number((0,o.A)().filter_location);if(1===g){let{filterState:e}=p||{};return e?(0,i.Iz)(e.appliedFilters,e.models):null}if(0===g){let l=(0,s.A)(r.A,!0)(h.map(e=>e.action?.filter).filter(Boolean));return(0,i.th)({brandsParam:e,colorsParam:t,domainsParam:a,onSaleParam:c,priceMaxParam:u,priceMinParam:_,unifiedFilterModels:l})}return null}},406218(e,t,a){a.d(t,{$M:()=>p,A:()=>v,BP:()=>o,CX:()=>x,Iz:()=>y,Oj:()=>h,ST:()=>m,Sp:()=>d,TN:()=>u,Vr:()=>P,b_:()=>b,ch:()=>A,i2:()=>c,oA:()=>_,th:()=>f,vd:()=>S});var l=a(33658),n=a(224723);let i=e=>e.map(({filter_component_type:e,filter_options:t,title:a})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:a,image_url:l,is_verified:n,numeric_value:i,string_value:s,unit:r})=>({id:e,label:t,count:a,image_url:l,is_verified:n,numeric_value:i,string_value:s,unit:r})),title:a})),s=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,l.Ay)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},r=e=>!e||!Object.keys(e).length,o=(e,t)=>{if(r(e)&&r(t))return!1;if(r(e)||r(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let a in e)if(s(e[a],t?.[a]))return!0;return!1},d=(e,t)=>!(0,l.Ay)(i(e),i(t)),c=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},u=(e,t)=>{try{for(let a in e){let l=e[a],n=t.find(e=>e.id===l?.id);if(l&&!c(l,n))return!1}return!0}catch(e){return!0}},_=(e,t)=>{if(!t||0===t.length)return!1;let a=t[0];if(!a)return!1;switch(a?.filter_component_type){case 2:let l=a.filter_options?.[0];for(let t in e){let a=e[t];if(!a)break;if("selectedOptionId"in a&&a.selectedOptionId===l?.id)return!0}return!1;case 1:for(let t in e){let l=e[t];if(!l)break;if(l.id===a.id&&"selectedOptionIds"in l&&0===l.selectedOptionIds.size)return!0}return!1;default:return!1}},p=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let a=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return a&&a.length>0?{selectedOptionIds:new Set(a),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),h=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let a=t.filter_options?.[0]?.id;return a&&"string"==typeof t.id?{[t.id]:{selectedOptionId:a,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},g=e=>e.map(e=>{let{filter_id:t,filter_options:a,product_filter_type:l}=e,n=t;return"number"==typeof l&&(n+=`_${l}`),a.length>0&&(n+=":",a.forEach((e,t)=>{let{filter_option_id:l,numeric_value:i,string_value:s,unit:r}=e;n+=`${l}`,"number"==typeof i&&(n+=`_${i}`),"string"==typeof s&&(n+=`_${s}`),"string"==typeof r&&(n+=`_${r}`),t<a.length-1&&(n+=",")})),n}).join("|"),m=({brands:e,colors:t,domains:a,onSale:l,priceMax:i,priceMin:s,scope:r,unifiedFilterModels:o})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:_}of o)if(u&&c?.length){if(1===_&&("number"==typeof s||"number"==typeof i)){let[e,t,a,l]=c,n=s??a?.numeric_value??e?.numeric_value??0,r=i??l?.numeric_value??t?.numeric_value??100;d[u]={min:n,max:r,id:u,type:"range",lastChangedLocation:1}}if(0===_&&a&&a.length>0){let e=a.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===_&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===_&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===_&&r){let e=(0,n.Ef)(r),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof _&&new Set([7,8,9]).has(_)&&l){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},f=({brandsParam:e,colorsParam:t,domainsParam:a,onSaleParam:l,priceMaxParam:n,priceMinParam:i,unifiedFilterModels:s})=>{let r=[],o=Number(i),d=Number(n),c=Number.isNaN(o)?void 0:o,u=Number.isNaN(d)?void 0:d,_=a?.split(",").filter(Boolean)??[],p=e?.split(",").filter(Boolean)??[],h=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:a}of s)if(t&&e?.length){if(1===a&&"number"==typeof c&&"number"==typeof u){let l={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:a};r.push(l)}if(0===a&&_&&_.length>0){let l=_.map(t=>{let a=e.find(e=>e.string_value===t);return a?a.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:a};r.push(e)}}if(3===a&&p&&p.length>0){let l=p.map(t=>{let a=e.find(e=>e.string_value===t);return a?a.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:a};r.push(e)}}if(6===a&&h&&h.length>0){let l=h.map(t=>{let a=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return a?a.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:a};r.push(e)}}if(7===a&&l){let n=e[0]?.id;if(n){let e={filter_id:t,filter_options:[{filter_option_id:n,numeric_value:Number(l)}],location:0,product_filter_type:a};r.push(e)}}}return 0===r.length?null:g(r)},b=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:a})=>{let l=null,i=null,s=!1,r=null,o=null,d=null,c=null,u=null;for(let _ in e){let p=e[_];if(p){let e=a.find(e=>e.id===p.id);if(e)if("range"===p.type&&1===e.product_filter_type)d=p.min,o=p.max;else if("multi"===p.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));r=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));l=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));i=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===p.type&&4===e.product_filter_type){let a=e.filter_options?.find(e=>p.selectedOptionId===e.id),l=a&&void 0!==a.search_type?(0,n.UQ)(a.search_type):n.cO.PINS;u=l,t&&(u=l===n.cO.PINS_BUYABLE?n.cO.PINS:l,s=l===n.cO.PINS_BUYABLE)}else"single"===p.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let _=a.find(e=>4===e.product_filter_type),p=_?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof p?.search_type&&(u=(0,n.UQ)(p.search_type)),{brands:l,colors:i,commerce_only:s,domains:r,max:o,min:d,on_sale:c,scope:u}},y=(e,t)=>{let a=[];return(Object.entries(e).forEach(([e,l])=>{let n=t.find(e=>e.id===l.id);if(!n||4===n.product_filter_type||"number"!=typeof n.product_filter_type||!n.filter_options)return;let i=[];if("range"===l.type){let[e,t]=n.filter_options;if(!e?.id||!t?.id)return;i=[{filter_option_id:e.id,numeric_value:l.min,unit:e.unit},{filter_option_id:t.id,numeric_value:l.max,unit:t.unit}]}if("single"===l.type){let e=n.filter_options.find(e=>e.id===l.selectedOptionId);if(!e?.id)return;i=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===l.type){let e=n.filter_options.filter(e=>e.id&&l.selectedOptionIds.has(e.id));if(0===e.length)return;i=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}a.push({filter_id:e,filter_options:i,location:l.lastChangedLocation,product_filter_type:n.product_filter_type})}),a&&0!==a.length)?g(a):null},A=e=>{let t,{filter:a,title:l}=e.action||{},{title:n}=a||{},i=l||n;if(!a||!i)return null;let{filterComponentType:s,productFilterType:r,id:o}=a,d=(a.filterOptions||[]).filter(Boolean);if(void 0===s||void 0===d||0===d.length||null==r||null==o)return null;let c=(t=d.map(e=>{if(!e)return null;let{auxData:t,id:a,imageUrl:l,isVerified:n,label:i,numericValue:s,searchType:r,stringValue:o,unit:d,rules:c}=e;return null===l||null===l||null===s||null===n||null===o||null===d?null:{id:a||"",label:i||"",count:0,image_url:l,is_verified:n,numeric_value:s,...c?{rules:[...c]}:{},..."number"==typeof r?{search_type:r}:{},string_value:o,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean)).length>0?t:null;return c?{filter_component_type:s,filter_options:[...c],id:o||"",product_filter_type:r,title:i}:null};function v(e,t,a){let[l,n,i,s]=a,{numeric_value:r=0}=s??l??{},{numeric_value:o=r+50}=i??n??{},{unit:d="USD"}=l??{},c=e.filters[t]?.type==="range"?e.filters[t]:{min:r,max:o,id:t,type:"range",lastChangedLocation:1};return{defaultMax:o,defaultMin:r,unit:d,range:c}}function S(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function P(e,t){let a=[];return Object.entries(t).forEach(([t,l])=>{let n=e.find(e=>e?.id===t);if(n){let e=n.aux_data?.module_id;e&&a.push(e);let t=("multi"===l.type?Array.from(l.selectedOptionIds):"single"===l.type?[l.selectedOptionId]:[]).map(e=>{let t=n.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);a.push(...t)}}),a}function x(e,t){let a=[];return Object.keys(t).forEach(t=>{let l=e.find(e=>e?.id===t);if(l){let e=l.product_filter_type;e&&a.push(e)}}),a}},406230(e,t,a){a.d(t,{AQ:()=>v,Ak:()=>C,F0:()=>h,Hs:()=>f,Kc:()=>S,Ln:()=>_,QI:()=>c,Up:()=>m,Yr:()=>x,_S:()=>y,kB:()=>u,mi:()=>g,oM:()=>A,wq:()=>p,zN:()=>b});var l=a(438083),n=a(349330),i=a(645858),s=a(286919),r=a(542975),o=a(291435),d=a(81920);let c=e=>e._('Make sure this age is accurate. Your birthdate is required for personalization, community safety and as part of our terms of service. For business accounts, use your own birthdate.', 'birthdateConfirmation.HelperText', 'Helper text notifying users to input their own birthday'),u=e=>e._('Use your own birthday, even if this a business account', 'birthdateConfirmation.HelperText.ownBirthday', 'Helper text notifying users to input their own birthday'),_=e=>e._('Oops! Please use a valid age to sign up.', 'existingUser.birthdaycollection.error.overage', 'Error message shown when overage (age over 120) user tries to register'),p=(e,t)=>{let{locale:a}=t.getLocaleData(),l=(0,s.A)(e),n=l.toLocaleString(a,{month:"long"}),i=l.getDate().toString(),o=l.getFullYear();return(0,r.vQ)(t._('Is {{month}} {{day}}, {{year}} your birthday?', 'birthdateConfirmation.heading', 'Header for the confirmation model verifying the age for the birthdate that the user inputted, month: month inputted into the fields, day: day inputted into the fields, year: year inputted into the fields'),{month:n,day:i,year:o})},h=(e,t,a,l,n=!1)=>{let i=(0,r.vQ)(n?e._('Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}}.', 'settings birthday error message', 'label for settings birthday error message. dayError: Incorrect day. monthError: Incorrect month. yearError: Incorrect year.'):e._('Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}} to sign up.', 'signup birthday error message', 'label for sign up birthday error message'),{dayError:t?e._('day', 'dayError keyword placeholder', 'label for dayError keyword place holder'):"",monthError:a?e._('month', 'monthError keyword placeholder', 'label for monthError keyword place holder'):"",yearError:l?e._('year', 'monthError keyword placeholder', 'label for monthError keyword place holder'):""}).filter(e=>0!==e.length);return 3===i.length?i.join(""):i[0]+i.slice(1,-1).join(", ")+i[i.length-1]},g=({country:e})=>e&&e in o.w?o.w[e]:13,m=(e,t)=>{let a=new Date,l=new Date(a.getFullYear()-t,a.getMonth(),a.getDate());return new Date(e)<=l},f=new Date().getFullYear(),b=new Date().getFullYear()-120,y=12,A=1,v=1,S=31,P="yyyy-MM-dd",x=e=>{let t=new Date,a=new Date(b,t.getMonth(),t.getDate()),l=m(e,5),n=new Date(e)>a;return l&&n};function C(e){let t=(0,l.A)(e,P,new Date);if((0,n.A)(t))return e;let a=new Date(e);try{return(0,i.A)(a,P)}catch{return(0,d.GV)("webapp.birthday_validation_error",{sampleRate:1,tags:{birthdate:e}}),e}}},286919(e,t,a){a.d(t,{A:()=>l});let l=e=>{let t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},578849(e,t,a){a.d(t,{A:()=>l});function l(e,t){return({CANCEL:t._('Cancel', 'business.strings', 'A generic translation for \'Cancel\' used for labeling, CTAs, and buttons'),LEARN_MORE:t._('Learn more', 'business.strings', 'A generic translation for \'Learn more\' used for labeling, CTAs, and buttons'),OK:t._('OK', 'business.strings', 'A generic translation for \'OK\' used for labeling, CTAs, and buttons'),DONE:t._('Done', 'business.strings', 'A generic translation for \'Done\' used for labeling, CTAs, and buttons'),NEXT:t._('Next', 'business.strings', 'A generic translation for \'Next\' used for labeling, CTAs, and buttons'),SAVE_ACTION:t._('Save', 'business.strings', 'A generic translation for \'Save\', the action, used for labeling, CTAs, and buttons'),SAVE_NOUN:t._('Save', 'business.strings', 'A generic translation for \'Save\', the noun, used for labeling, CTAs, and buttons'),LOADING:t._('Loading', 'business.strings', 'A generic translation for \'Loading\' used for labeling, CTAs, and buttons'),ALL:t._('All', 'business.strings', 'A generic translation for \'All\' used for labeling, CTAs, and buttons'),EDIT:t._('Edit', 'business.strings', 'A generic translation for \'Edit\' used for labeling, CTAs, and buttons'),BACK:t._('Back', 'business.strings', 'A generic translation for \'Back\' used for labeling, CTAs, and buttons'),DELETE:t._('Delete', 'business.strings', 'A generic translation for \'Delete\' used for labeling, CTAs, and buttons'),NONE:t._('None', 'business.strings', 'A generic translation for \'None\' used for labeling, CTAs, and buttons'),IMPRESSIONS:t._('Impressions', 'business.strings', 'A generic translation for \'Impressions\' used for labeling, CTAs, and buttons'),SEARCH_ACTION:t._('Search', 'business.strings', 'A generic translation for \'Search\', the action,  used for labeling, CTAs, and buttons'),SEARCH_NOUN:t._('Search', 'business.strings', 'A generic translation for \'Search\', the noun,  used for labeling, CTAs, and buttons'),ACTIVE:t._('Active', 'business.strings', 'A generic translation for \'Active\' used for labeling, CTAs, and buttons'),VIDEO:t._('Video', 'business.strings', 'A generic translation for \'Video\' used for labeling, CTAs, and buttons'),SAVES_ACTION:t._('Saves', 'business.strings', 'A generic translation for \'Saves\', the action, used for labeling, CTAs, and buttons'),SAVES_NOUN:t._('Saves', 'business.strings', 'A generic translation for \'Saves\', the noun,  used for labeling, CTAs, and buttons'),CONTINUE:t._('Continue', 'business.strings', 'A generic translation for \'Continue\' used for labeling, CTAs, and buttons'),NO:t._('No', 'business.strings', 'A generic translation for \'No\' used for labeling, CTAs, and buttons'),STATUS:t._('Status', 'business.strings', 'A generic translation for \'Status\' used for labeling, CTAs, and buttons'),PROMOTE:t._('Promote', 'business.strings', 'A generic translation for \'Promote\' used for labeling, CTAs, and buttons'),NAME:t._('Name', 'business.strings', 'A generic translation for \'Name\' used for labeling, CTAs, and buttons'),SUBMIT:t._('Submit', 'business.strings', 'A generic translation for \'Submit\' used for labeling, CTAs, and buttons'),PAUSED:t._('Paused', 'business.strings', 'A generic translation for \'Paused\' used for labeling, CTAs, and buttons'),SEE_MORE:t._('See more', 'business.strings', 'A generic translation for \'See more\' used for labeling, CTAs, and buttons'),FOLLOWING:t._('Following', 'business.strings', 'A generic translation for \'Following\' used for labeling, CTAs, and buttons'),CLOSE:t._('Close', 'business.strings', 'A generic translation for \'Close\' used for labeling, CTAs, and buttons'),INSTALL_TAG:t._('Install tag', 'business.strings', 'A generic translation for \'Install tag\' used for labeling, CTAs, and buttons'),PIN_CLICKS:t._('Pin clicks', 'business.strings', 'A generic translation for \'Pin clicks\' used for labeling, CTAs, and buttons'),CONVERSIONS:t._('Conversions', 'business.strings', 'A generic translation for \'Conversions\' used for labeling, CTAs, and buttons'),SEND:t._('Send', 'business.strings', 'A generic translation for \'Send\' used for labeling, CTAs, and buttons'),KEYWORDS:t._('Keywords', 'business.strings', 'A generic translation for \'Keywords\' used for labeling, CTAs, and buttons'),CREATE:t._('Create', 'business.strings', 'A generic translation for \'Create\' used for labeling, CTAs, and buttons'),REPORT_ACTION:t._('Report', 'business.strings', 'A generic translation for \'Report\', the action, used for labeling, CTAs, and buttons'),REPORT_NOUN:t._('Report', 'business.strings', 'A generic translation for \'Report\', the noun,  used for labeling, CTAs, and buttons'),BOARDS:t._('Boards', 'business.strings', 'A generic translation for \'Boards\' used for labeling, CTAs, and buttons'),PINS:t._('Pins', 'business.strings', 'A generic translation for \'Pins\' used for labeling, CTAs, and buttons'),LINK_CLICKS:t._('Link clicks', 'business.strings', 'A generic translation for \'Link clicks\' used for labeling, CTAs, and buttons'),COMPLETED:t._('Completed', 'business.strings', 'A generic translation for \'Completed\' used for labeling, CTAs, and buttons'),PENDING:t._('Pending', 'business.strings', 'A generic translation for \'Pending\' used for labeling, CTAs, and buttons'),SELECT:t._('Select', 'business.strings', 'A generic translation for \'Select\' used for labeling, CTAs, and buttons'),ARCHIVED:t._('Archived', 'business.strings', 'A generic translation for \'Archived\' used for labeling, CTAs, and buttons'),ACTIONS:t._('Actions', 'business.strings', 'A generic translation for \'Actions\' used for labeling, CTAs, and buttons'),PRODUCT_GROUPS:t._('Product groups', 'business.strings', 'A generic translation for \'Product groups\' used for labeling, CTAs, and buttons'),CUSTOM:t._('Custom', 'business.strings', 'A generic translation for \'Custom\' used for labeling, CTAs, and buttons'),CREATE_PIN:t._('Create Pin', 'business.strings', 'A generic translation for \'Create Pin\' used for labeling, CTAs, and buttons'),COUNTRY:t._('Country', 'business.strings', 'A generic translation for \'Country\' used for labeling, CTAs, and buttons'),VIDEO_VIEWS:t._('Video views', 'business.strings', 'A generic translation for \'Video views\' used for labeling, CTAs, and buttons'),REMOVE:t._('Remove', 'business.strings', 'A generic translation for \'Remove\' used for labeling, CTAs, and buttons'),EMAIL_ADDRESS:t._('Email address', 'business.strings', 'A generic translation for \'Email address\' used for labeling, CTAs, and buttons'),PINTEREST:t._('Pinterest', 'business.strings', 'A generic translation for \'Pinterest\' used for labeling, CTAs, and buttons'),PRIVACY_POLICY:t._('Privacy Policy', 'business.strings', 'A generic translation for \'Privacy Policy\' used for labeling, CTAs, and buttons'),OTHER:t._('Other', 'business.strings', 'A generic translation for \'Other\' used for labeling, CTAs, and buttons'),REQUIRED:t._('Required', 'business.strings', 'A generic translation for \'Required\' used for labeling, CTAs, and buttons'),CLICKS_ACTION:t._('Clicks', 'business.strings', 'A generic translation for \'Clicks\', the action used for labeling, CTAs, and buttons'),CLICKS_NOUN:t._('Clicks', 'business.strings', 'A generic translation for \'Clicks\', the noun, used for labeling, CTAs, and buttons'),ENGAGEMENT:t._('Engagement', 'business.strings', 'A generic translation for \'Engagement\' used for labeling, CTAs, and buttons'),NOT_NOW:t._('Not now', 'business.strings', 'A generic translation for \'Not now\' used for labeling, CTAs, and buttons'),ADS:t._('Ads', 'business.strings', 'A generic translation for \'Ads\' used for labeling, CTAs, and buttons'),ERROR:t._('Error', 'business.strings', 'A generic translation for \'Error\' used for labeling, CTAs, and buttons'),CAMPAIGNS:t._('Campaigns', 'business.strings', 'A generic translation for \'Campaigns\' used for labeling, CTAs, and buttons'),VISIT_ACTION:t._('Visit', 'business.strings', 'A generic translation for \'Visit\', the action, used for labeling, CTAs, and buttons'),VISIT_NOUN:t._('Visit', 'business.strings', 'A generic translation for \'Visit\', the noun, used for labeling, CTAs, and buttons'),OUTBOUND_CLICKS:t._('Outbound clicks', 'business.strings', 'A generic translation for \'Outbound clicks\' used for labeling, CTAs, and buttons'),ADD:t._('Add', 'business.strings', 'A generic translation for \'Add\' used for labeling, CTAs, and buttons'),DESCRIPTION:t._('Description', 'business.strings', 'A generic translation for \'Description\' used for labeling, CTAs, and buttons'),SPEND_ACTION:t._('Spend', 'business.strings', 'A generic translation for \'Spend\', the action, used for labeling, CTAs, and buttons'),SPEND_NOUN:t._('Spend', 'business.strings', 'A generic translation for \'Spend\', the noun, used for labeling, CTAs, and buttons'),CREATE_AD:t._('Create ad', 'business.strings', 'A generic translation for \'Create ad\' used for labeling, CTAs, and buttons'),EXPAND:t._('Expand', 'business.strings', 'A generic translation for \'Expand\' used for labeling, CTAs, and buttons'),MEASURE_YOUR_AD_PERFORMANCE:t._('Measure your ad performance', 'business.strings', 'A generic translation for \'Measure your ad performance\' used for labeling, CTAs, and buttons'),CREATE_BOARD:t._('Create board', 'business.strings', 'A generic translation for \'Create board\' used for labeling, CTAs, and buttons'),SELECTED:t._('Selected', 'business.strings', 'A generic translation for \'Selected\' used for labeling, CTAs, and buttons'),PEOPLE:t._('People', 'business.strings', 'A generic translation for \'People\' used for labeling, CTAs, and buttons'),YES:t._('Yes', 'business.strings', 'A generic translation for \'Yes\' used for labeling, CTAs, and buttons'),TOTAL:t._('Total', 'business.strings', 'A generic translation for \'Total\' used for labeling, CTAs, and buttons'),AUDIENCE_INSIGHTS:t._('Audience insights', 'business.strings', 'A generic translation for \'Audience insights\' used for labeling, CTAs, and buttons'),DISMISS:t._('Dismiss', 'business.strings', 'A generic translation for \'Dismiss\' used for labeling, CTAs, and buttons'),PHONE_NUMBER:t._('Phone number', 'business.strings', 'A generic translation for \'Phone number\' used for labeling, CTAs, and buttons'),TODAY:t._('Today', 'business.strings', 'A generic translation for \'Today\' used for labeling, CTAs, and buttons'),GOT_IT:t._('Got it', 'business.strings', 'A generic translation for \'Got it\' used for labeling, CTAs, and buttons'),SUCCESS:t._('Success', 'business.strings', 'A generic translation for \'Success\' used for labeling, CTAs, and buttons'),AD_GROUPS:t._('Ad groups', 'business.strings', 'A generic translation for \'Ad groups\' used for labeling, CTAs, and buttons')})[e]}},500544(e,t,a){a.d(t,{A:()=>i});var l=a(859471),n=a(124674);function i({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:a,resourceName:i,resourceOptions:s,value:r}){let o=(0,n.A)({allowSearchOnMount:e,resourceName:i,resourceOptions:s,value:r});return(0,l.useEffect)(()=>{o?.length&&a(o)},[o]),t||null}},124674(e,t,a){a.d(t,{A:()=>r});var l=a(859471);function n(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let i=class{constructor(e){n(this,"_uidToData",{}),n(this,"_numItems",0),n(this,"_firstData",null),n(this,"_lastData",null),this._maxNumItems=e??10}set(e,t){let a=this._uidToData[e];a||(a={uid:e,item:t,next:null,prev:null},this._uidToData[e]=a,this._numItems+=1),this._moveToFront(a),this._numItems>this._maxNumItems&&this._evict()}get(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null}remove(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)}_moveToFront(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))}_evict(){this._lastData&&(delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData&&(this._lastData.next=null)),this._numItems-=1)}};var s=a(652567);function r({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:a={},value:n}){let r=(0,l.useRef)(!1),o=(0,l.useRef)({}),[d,c]=(0,l.useState)([]),u=function({resourceName:e,resourceOptions:t}){let a=(0,s.Kw)(),n=(0,l.useRef)(void 0);return n.current||(n.current=function({resourceCreator:e,resourceName:t,resourceOptions:a}){let l=e(t,{...a,count:"count"in a?a.count:5}),n=new i,s=()=>{l.abort()},r=async(e,t)=>{if(l.isCalling()){let a=l.options?.term,n=l.options?.pin_scope;if(e===a&&t===n)return;s()}let{bookmarks:a,...i}=l.options||{};l.options={...i,term:e,pin_scope:t};let{data:r}=(await l.callGet({showError:!1})).resource_response,o=r?.items,d=r?.hint||{};return n.set(`${t}-${e}`,{hint:d,items:o}),{term:e,items:o,hint:d}};return async function(e,t){let a=n.get(`${t}-${e}`);if(a){let{items:t}=a;if(t&&t.length){s();let{hint:l}=a;return{hint:l,items:t,term:e}}}return e.length>=0?r(e,t):{hint:{},items:[],term:e}}}({resourceCreator:a,resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:a}),_=a.pin_scope||"pins",p=`${_}-${n}`;return(0,l.useEffect)(()=>{(async()=>{if(null!=n&&""!==n&&(e||r.current))if(p in o.current)c(o.current[p]);else try{let e=await u(n,_);if(e){let{items:t}=e;o.current[p]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}r.current||(r.current=!0)})()},[n,_,p]),d}},813985(e,t,a){a.d(t,{n1:()=>o,hr:()=>r});var l=a(598948),n=a(636032),i=a(890922),s=a(998556);function r({searchParams:e,sourceUrl:t,isDesktop:a,isAuthenticated:l,appliedUnifiedFilters:n}){let{autoCorrectionDisabled:i,bubbleId:s,category:r,currentlyAppliedFiltersParamTerm:o,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:h,priceMax:g,priceMin:m,query:f,queryImagePins:b,requestParams:y,rs:A,scope:v,selectedOneBarModules:S,sourceId:P,sourceModuleId:x,topPinIds:C,user:I}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:a,personalizationPinSig:l,inGlobalSearch:n,appliedUnifiedFilters:i,initialCategory:s,initialDomains:r,initialMaxPrice:o,initialMinPrice:c,isDuplo:u,..._}=e,p=t?.split(","),h={..._,filters:a,selectedOneBarModules:p,selectedPinImgSig:l};if(n)return d(h);let g={...h,appliedUnifiedFilters:i,appliedProductFilters:function({category:e,domains:t,maxPrice:a,minPrice:l}){return[e,t,a,l].map(e=>e??"").join("-")}({category:s,domains:r,maxPrice:o,minPrice:c})};return u&&(g.domains=r,g.priceMax=o?parseInt(o,10):void 0,g.priceMin=c?parseInt(c,10):void 0),d(g)}({appliedUnifiedFilters:n,autoCorrectionDisabled:i,bubbleId:s,currentlyAppliedFiltersParamTerm:o,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:r,initialDomains:c,initialMaxPrice:g,initialMinPrice:m,isDuplo:!l||!a,journeyDepth:p,personalizationPinSig:h,query:f,queryImagePins:b,requestParams:y,rs:A,scope:v,selectedOneBarModules:S,sourceId:P,sourceModuleId:x,sourceUrl:t,topPinIds:C,user:I})}function o({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:a,filters:l,journey_depth:n,query:i,rs:s,scope:r,selected_one_bar_modules:o,query_image_pins:d,query_pin_sigs:c,source_id:u,source_module_id:_,top_pin_ids:p,user:h}){let g=[e,l,n,i,s,r,o,d,c,u,_,t,p,h].map(e=>e??"").join(":");return a?"auto-correction-disabled:"+g:g}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:a="pins",appliedUnifiedFilters:r=null,appliedProductFilters:o=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:_=null,rs:p=i.I.DIRECT_NAVIGATION,journeyDepth:h=null,sourceId:g=null,sourceModuleId:m=null,sourceUrl:f=null,selectedOneBarModules:b=null,selectedPinImgSig:y=null,user:A=null,autoCorrectionDisabled:v=!1,seoDrawerEnabled:S=!1,bubbleId:P=null,pageSize:x=null,queryImagePins:C=null,requestParams:I=null,topPinIds:k=null}=e,w="u">typeof window?(0,s.y1)().getItem("pwt_performance_testing"):null,T=f&&f.includes("pwt_performance_testing"),z=!!(!0===w||"true"===w||T);return{query:t,scope:a,appliedProductFilters:o,domains:c,user:A,seoDrawerEnabled:S,applied_unified_filters:r,auto_correction_disabled:v,journey_depth:h,source_id:g,source_module_id:m,source_url:function(e){if(!e)return"";let t=new Set,a=e.split("?")[1];a&&a.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:i,queryKey:s}=(0,l.A)((0,n.A)(e,["request_params"])),r=Object.keys(s).sort().map(e=>t.has(e)?e:`${e}=${s[e]}`).join("&");return r?`${i}?${r}`:i}(f),static_feed:z,selected_one_bar_modules:b,query_pin_sigs:y,page_size:x,price_max:u,price_min:_,query_image_pins:C,request_params:I,top_pin_ids:k,article:P,corpus:y?"personalize":null,customized_rerank_type:y?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},912581(e,t,a){a.d(t,{A:()=>n});let l=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,n=e=>l.test(e)},5302(e,t,a){a.d(t,{A:()=>l});function l(e,t){let a=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(a,(e,t)=>"_"+t.toLowerCase())}},524023(e,t,a){a.d(t,{A:()=>o});var l=a(859471);let n=null,i=!1,s=0,r=()=>{n&&clearTimeout(n),i=!0,n=setTimeout(()=>{i=!1},100)},o=()=>{let[e,t]=(0,l.useState)(!1),a=(0,l.useRef)(null);(0,l.useEffect)(()=>(0===s&&window.addEventListener("scroll",r),s+=1,()=>{a.current&&clearTimeout(a.current),(s-=1)||window.removeEventListener("scroll",r)}),[]);let n=e=>{a.current&&clearTimeout(a.current),a.current=e&&i?setTimeout(()=>n(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,l.useRef)({onMouseOver:()=>n(!0),onMouseLeave:()=>n(!1)}).current}}},60583(e,t,a){a.d(t,{A:()=>n});let l=/^(?:https?:\/\/)?([^\s\/?#."]+\.)+([^\s\/?#."]+)(\/[^\s?#]*)?(#[^\s]*)?(\?[^"]*)?$/;function n(e,t){return!!e&&l.test(e)&&(e.startsWith("http://")||e.startsWith("https://")||!!t?.protocolIsOptional)}},734696(e,t,a){a.d(t,{$P:()=>P,A3:()=>y,Cd:()=>k,Ji:()=>v,Kg:()=>g,Mx:()=>h,ND:()=>S,Ps:()=>d,QM:()=>b,RU:()=>f,SX:()=>c,X1:()=>T,Xw:()=>o,Yl:()=>I,Yy:()=>_,fb:()=>w,gX:()=>x,go:()=>p,k:()=>m,mg:()=>r,oF:()=>A,oX:()=>u,ps:()=>C});var l=a(406230);a(598948);var n=a(60583);let i={January:31,February:29,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31},s=e=>{let t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":" "},a=String(e).split("");return a.forEach((e,l)=>{let n=t[e];n&&(a[l]=n)}),a.join("")};function r(e){return(t,a)=>{let l=[];t&&/\S/.test(t)||l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}let o=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i");function d(e){return(t,a)=>{t=t&&t.trim();let l=[];t.match(o)||l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function c(e){return(t,a)=>{t=t&&t.trim();let l=[];t.match(/^[^0-9].*$/)||l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function u(e){return(t,a)=>{let l=[];if(t){let a=parseInt(t,10);Number.isNaN(a)?l.push(e.invalidAgeString):(e.ageTooShortString&&a<10&&l.push(e.ageTooShortString),a<=0||a>120?l.push(e.invalidAgeString):e.checkUnderAgeWithString&&a<18&&l.push(e.checkUnderAgeWithString))}let n={errors:l,warnings:[]};return a&&a(n),n}}function _(e){return(t,a)=>{let l=[],[n,s]=t.split(" ");if(n)if(n.match(/^[0-9]+$/)){let t=parseInt(n,10);(Number.isNaN(t)||t>31||t>i[s])&&l.push(e.invaliddobDateString)}else l.push(e.invaliddobDateString);let r={errors:l,warnings:[]};return a&&a(r),r}}function p(e){return(t,a)=>{let l=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),n=[],i=!1!==e.checkLength&&l.length<7;t&&(!t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)||i)&&n.push(e.message);let s={errors:n,warnings:[]};return a&&a(s),s}}function h(e){return(t,a)=>{let l=[];"number"==typeof t||"string"==typeof t&&(t=s(t=t&&t.trim()))&&!t.match(/^\d+$/)&&l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function g(e){return(t,a)=>{let l=[];"number"==typeof t||"string"==typeof t&&(t=s(t=t&&t.trim()))&&!t.match(/^[\d\ -]+$/)&&l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function m({message:e}){return(t,a)=>{let l=[];t&&!(0,n.A)(t,{protocolIsOptional:!0})&&l.push(e);let i={errors:l,warnings:[]};return a&&a(i),i}}function f(e){return(t,a)=>{let l=e.should_trim||!1,n=[];l&&(t=t&&t.trim());let i=t.length;"min"in e&&e.min>0&&i<e.min?n.push(e.minErrorString):"max"in e&&e.max>0&&i>e.max&&n.push(e.maxErrorString);let s={errors:n,warnings:[]};return a&&a(s),s}}function b(e){return(t,a)=>{let l=e&&e.targetValue,n=[];t!==l&&n.push(e.message);let i={errors:n,warnings:[]};return a&&a(i),i}}function y(e){return(t,a)=>{let l=new Date(t),n=[];e.date instanceof Date&&l instanceof Date&&e.date<l&&n.push(e.message);let i={errors:n,warnings:[]};return a&&a(i),i}}function A(e){return(t,a)=>{let n=new Date(t),i=e.date instanceof Date&&n instanceof Date,s=[];(i&&e.date<n||!(0,l.Yr)(t))&&s.push(e.message);let r={errors:s,warnings:[]};return a&&a(r),r}}function v(e){return(t,a)=>{let l=[];/^[\x20-\x7E]*$/.test(t)||l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function S(e){return(t,a)=>{let l=2;if(e.hasFractionalCents)l=3;else if(e.currencyCode){let{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();l=t}let n=new RegExp(l?`^\\d*(\\.\\d{1,${l}})?$`:"^\\d*$"),i=[];t&&!t.match(n)&&(t=t&&t.trim(),i.push(e.message));let s={errors:i,warnings:[]};return a&&a(s),s}}function P(e){return(t,a)=>{t=t&&t.trim();let l=[],n=new Date(t);t&&!n.getTime()&&l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function x(e){return(t,a)=>{let l=t&&t.trim(),n=[];l&&!l.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);let i={errors:n,warnings:[]};return a&&a(i),i}}function C(e){return(t,a)=>{let l=[];e.pattern.test(t)||l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function I(e,t){return[].concat(...e.map(e=>e(t).errors))}async function k(e,t){return[].concat(...await Promise.all(e.map(async e=>{let a=e(t);return a instanceof Promise?(await a)(t).errors:a.errors})))}function w(e,t){let a="";return t.some(t=>{let l=t(e);return l.errors.length>0&&(a=l.errors[0],!0)}),a}async function T(e,t){let a="";for(let l of t){let t=l(e);if(t instanceof Promise){let l=(await t)(e);if(l.errors.length>0){a=l.errors[0];break}}else if(t.errors.length>0){a=t.errors[0];break}}return a}},889416(e,t,a){a.r(t),a.d(t,{default:()=>c});var l=a(61163),n=a(859471),i=a(19821),s=a(538329),r=a(911346),o=a(755782),d=a(562615);function c(e){(0,n.useEffect)(()=>{(0,l.A)("PinRepEditButton","/app/www/AuthDesktopPinRep/components/PinRepEditButton.tsx")},[]);let t=(0,s.A)(),{clientTrackingParams:a,style:c,useLegoStyles:u=!1,usePersistentOneClickSaveStyles:_,wrappingIconStyle:p,shouldUseLegoStyles:h,carouselSlotCurrentIndex:g,component:m,onDelete:f,onSubmit:b,onToggleModal:y,pinId:A,surface:v}=e,[S,P]=(0,n.useState)(!1),{onClick:x,carouselSlotCurrentIndex:C}=(0,o.A)({carouselSlotCurrentIndexProp:g,component:m,pinId:A,setShowEditModal:P}),I=t._('Pin Saved', 'PinRepEditButton.SavedButtonLabel', 'saved button label on pin'),k=(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(i.K0,{accessibilityLabel:t._('Edit', 'edit button on pin', 'edit button on pin'),bgColor:c&&c.bgColor||"default",icon:"pencil",iconColor:c&&c.iconColor||"default",onClick:x,size:c&&c.size||"md"}),S&&A&&(0,d.jsx)(r.A,{carouselSlotCurrentIndex:C,clientTrackingParams:a,onDelete:f,onHide:()=>{P(!1),y?.(!1)},onSubmit:b,pinId:A})]});return h?(0,d.jsx)(i.PF,{accessibilityLabel:I,color:"primary",dataTestId:"saved-button",onClick:f,selected:!0,size:"VideoCarouselModule"===v?"sm":"lg",text:t._('Saved', 'PinRepEditButton.SavedButton', 'saved button on pin')}):u||_?(0,d.jsx)("div",{"data-test-id":"use-lego-styles-div",style:{...p||{}},children:k}):k}},291435(e,t,a){a.d(t,{t:()=>l,w:()=>n});let l={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},n={...l,KR:14}},172150(e,t,a){a.d(t,{A:()=>u});var l=a(61163),n=a(859471),i=a(19821),s=a(989457),r=a(693154),o=a(538329),d=a(562615);function c({collaborator:e,isSelected:t,onToggle:a}){(0,n.useEffect)(()=>{(0,l.A)("CollaboratorItem","/app/www/BoardCreate/AddCollaborators/CollaboratorItem.tsx")},[]);let c=(0,o.A)(),u=(0,r.A)(),_=u.isAuth?u?.avatar_color_index:void 0;return(0,d.jsxs)(i.so,{children:[(0,d.jsxs)(i.so,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(i.az,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,d.jsx)(i.In,{accessibilityLabel:c._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,d.jsx)(i.az,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,d.jsx)(s.eu,{color:_,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(i.so,{alignItems:"center",children:(0,d.jsx)(i.az,{children:(0,d.jsx)(i.KJ,{size:"300",children:e.id})})}):(0,d.jsxs)(i.so,{direction:"column",justifyContent:"center",children:[(0,d.jsx)(i.az,{marginBottom:1,tabIndex:0,children:(0,d.jsx)(i.KJ,{lineClamp:1,size:"300",children:e.full_name})}),(0,d.jsx)(i.az,{tabIndex:0,children:(0,d.jsx)(i.KJ,{size:"200",children:`@${e.username||""}`})})]})]}),(0,d.jsx)(i.so,{flex:"none",children:(0,d.jsx)(i.$n,{onClick:()=>a(e),selected:t,size:"lg",text:t?c._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):c._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]})}function u({contacts:e,selectedContactIds:t,onCollaboratorToggle:a,itemPadding:s=2}){return(0,n.useEffect)(()=>{(0,l.A)("CollaboratorList","/app/www/BoardCreate/AddCollaborators/CollaboratorList.tsx")},[]),(0,d.jsx)(n.Fragment,{children:e.map(e=>(0,d.jsx)(i.az,{paddingY:s,children:(0,d.jsx)(c,{collaborator:e,isSelected:t.includes(e.id),onToggle:a})},e.id))})}},264986(e,t,a){a.d(t,{A:()=>u});var l=a(61163),n=a(859471),i=a(19821),s=a(743372),r=a(63661),o=a(538329),d=a(500544),c=a(562615);function u({searchValue:e,onSearchChange:t,onTypeaheadSuggestionsChange:a}){(0,n.useEffect)(()=>{(0,l.A)("CollaboratorSearch","/app/www/BoardCreate/AddCollaborators/CollaboratorSearch.tsx")},[]);let u=(0,o.A)(),_=(0,s.A)(),p=(0,n.useMemo)(()=>(0,r.A)(e=>{0!==e.length&&_({event_type:7383,view_type:5,view_parameter:3059,component:43,aux_data:{entered_query:e}})},3e3),[_]);return(0,c.jsx)(d.A,{onTypeaheadSuggestionsChange:a,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,c.jsx)(i.Lw,{accessibilityLabel:u._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{t({value:e}),p(e)},placeholder:u._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:e})})}},801095(e,t,a){a.d(t,{A:()=>s});var l=a(859471),n=a(430705),i=a(912581);function s({selectedContacts:e,onSelectedContactsChange:t}){let{data:a}=(0,n.A)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[s,r]=(0,l.useState)([]),[o,d]=(0,l.useState)("");(0,l.useEffect)(()=>{a&&r(a.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[a]);let c=e.map(e=>e.id),u=[...e,(0,i.A)(o)&&!c.includes(o)?{id:o,type:"email"}:null,...s.filter(e=>!c.includes(e.id))].filter(Boolean);return{searchValue:o,allContacts:u,handleTextFieldChange:({value:e})=>{d(e)},handleTypeaheadSuggestionsChange:e=>{r(e)},handleCollaboratorClick:a=>{c.includes(a.id)?t?.((e||[]).filter(e=>e.id!==a.id)):t?.([...e,a])}}}},385336(e,t,a){a.d(t,{A:()=>B});var l=a(61163),n=a(859471),i=a(19821),s=a(743372),r=a(989457),o=a(693154),d=a(578849),c=a(538329),u=a(844255),_=a(168079),p=a(734696),h=a(653956),g=a(586733),m=a(172150),f=a(264986),b=a(801095);function y(e){return e.map(({id:e})=>e)}function A(e,t){return e.filter(({type:e})=>t.includes(e))}var v=a(562615);function S({boardCreateSource:e,selectedContacts:t,setSelectedContacts:a}){(0,n.useEffect)(()=>{(0,l.A)("BoardCreateGlowupAddCollaborator","/app/www/BoardCreateGlowup/BoardCreateGlowupAddCollaborator.tsx")},[]);let s=(0,n.useRef)(!1),{logContextEvent:r}=(0,g.o)();(0,_.A)(()=>(r({event_type:13,view_type:5,view_parameter:3059,component:13305,aux_data:{source:e}}),()=>{s.current||r({event_type:10521,view_type:5,view_parameter:3059,component:13305,aux_data:{source:e}})}));let{searchValue:o,allContacts:d,handleTextFieldChange:u,handleTypeaheadSuggestionsChange:p,handleCollaboratorClick:h}=(0,b.A)({selectedContacts:t,onSelectedContactsChange:a}),A=y(t),S=(0,c.A)();return(0,v.jsxs)(i.so,{direction:"column",gap:6,children:[(0,v.jsxs)(i.so,{direction:"column",gap:2,children:[(0,v.jsx)(i.KJ,{size:"200",children:S._('Collaborators can...', 'BoardCreateGlowupModal.collaborators.content.paragraph-1', 'Text before explaining current collaborator permission setting')}),(0,v.jsxs)(i.so,{direction:"column",gap:1,children:[(0,v.jsx)(i.KJ,{size:"400",weight:"bold",children:S._('Do (almost) everything', 'BoardCreateGlowupModal.collaborators.content.paragraph-2', 'Text explaining current collaborator permission setting')}),(0,v.jsx)(i.KJ,{size:"200",children:S._('Add, move or delete Pins and sections, comment and react', 'BoardCreateGlowupModal.collaborators.content.paragraph-3', 'Text explaining current collaborator permission setting')})]})]}),(0,v.jsxs)(i.so,{direction:"column",gap:2,children:[(0,v.jsx)(i.KJ,{size:"200",children:S._('Invite someone on Pinterest', 'BoardCreateGlowupModal.collaborators.content.collaborator-picker-label', 'Text before explaining how to invite someone on Pinterest')}),(0,v.jsx)(f.A,{onSearchChange:u,onTypeaheadSuggestionsChange:p,searchValue:o}),(0,v.jsx)(m.A,{contacts:d,itemPadding:2,onCollaboratorToggle:e=>{h(e),s.current=!0},selectedContactIds:A})]})]})}function P({labelId:e,label:t,subtext:a,children:s}){return(0,n.useEffect)(()=>{(0,l.A)("BoardCreateGlowupModalField","/app/www/BoardCreateGlowup/BoardCreateGlowupModalField.tsx")},[]),(0,v.jsxs)(i.so,{alignItems:"center",children:[(0,v.jsx)(i.az,{flex:"grow",children:(0,v.jsxs)(i.JU,{htmlFor:e,children:[(0,v.jsx)(i.KJ,{size:"300",weight:"bold",children:t}),(0,v.jsx)(i.KJ,{color:"subtle",size:"200",children:a})]})}),s]})}var x=a(753771),C=a(457315),I=a(955170),k=a(720407),w=a(937975);let T=[96,58],z=["email","email_share_suggestion"],E=["user","user_share_suggestion"];var j=a(928802),D=a(679530),F=a(896575);function B({boardCreateSource:e,images:t=[],initialValues:a,onBoardCreate:g,onClose:m}){(0,n.useEffect)(()=>{(0,l.A)("BoardCreateGlowupModal","/app/www/BoardCreateGlowup/BoardCreateGlowupModal.tsx")},[]);let{suggestedBoardName:f,completeExperience:b,dismissExperience:B}=(0,j.A)(1000673,0===t.length),[R,N]=(0,n.useState)(a?.boardName??"");(0,n.useEffect)(()=>{f&&N(f)},[f]);let[K,L]=(0,n.useState)(a?.privacy==="secret"),[O,M]=(0,n.useState)(),[U,V]=(0,n.useState)(!1),[H,G]=(0,n.useState)(a?.collaborators??[]),J=(0,c.A)(),$=(0,s.A)(),{isRTL:q}=(0,u._8)(),W=(0,o.A)(),Y=W.isAuth?W?.avatar_color_index:void 0,Q=!!O,X=f??a?.boardName,{state:Z,submitAction:ee,isPending:et}=function({boardCreateSource:e,onBoardCreate:t,onRequestComplete:a,selectedCollaborators:l,auxData:i={}}){let s=(0,k.A)(),r=(0,I.mV)(),o=(0,I.lt)(),[d,c,u]=(0,n.useActionState)(async(n,d)=>{let c={name:d.get("boardName"),privacy:null!=d.get("isSecretBoard")?x.A.BoardPrivacy.SECRET:x.A.BoardPrivacy.PUBLIC,aux_data:{...i,source:e}};try{let e=await s({boardCreateOptions:c}),a=A(l,z),n=A(l,E),i=[];a.length>0&&i.push(r(e.id,y(a))),n.length>0&&i.push(o(e.id,y(n)));try{await Promise.all(i)}catch(e){(0,w.c)({name:"BoardCreateGlowupCollaboratorInviteError",message:(0,C.A)(e,"message")??"Failed to invite collaborators",message_detail:(0,C.A)(e,"message_detail"),stack:(0,C.A)(e,"stack")})}t(e)}catch(t){let e=(0,C.A)(t,"api_error_code");if(void 0!==e&&T.includes(e))return{serverBoardNameError:(0,C.A)(t,"message")};(0,w.c)({name:"BoardCreateGlowupFormBoardCreateError",message:(0,C.A)(t,"message")??"Failed to create board",message_detail:(0,C.A)(t,"message_detail"),stack:(0,C.A)(t,"stack")})}finally{a?.()}return{}},{});return{state:d,submitAction:c,isPending:u}}({boardCreateSource:e,onBoardCreate:e=>{e.name===f?b():B(),g(e)},onRequestComplete:()=>{V(!1)},selectedCollaborators:H,auxData:{...X?{suggested_board_name:X}:{}}}),ea=()=>{f&&B(),m()},{serverBoardNameError:el}=Z;(0,_.A)(()=>{$({event_type:13,view_type:5,view_parameter:87,component:13025,aux_data:{source:e}})});let en=()=>!U&&el?el:Q?O:void 0,[ei,es]=(0,n.useState)("main"),er=()=>{$({event_type:101,view_type:5,view_parameter:87,component:13025,element:10592,aux_data:{source:e}}),(0,n.startTransition)(()=>{es("collaborators")})},eo={main:{content:(0,v.jsxs)(i.so,{direction:"column",gap:6,children:[(0,v.jsx)(i.so,{justifyContent:"center",children:(0,v.jsx)(i.az,{paddingY:2,width:213,children:(0,v.jsx)(h.A,{boardKey:null,coverPinKey:null,images:t})})}),(0,v.jsx)(i.A_,{errorMessage:en(),id:"board-name",label:J._('Board name', 'BoardCreateGlowupModal.boardNameInput.label', 'Label for board name input'),name:"boardName",onChange:({value:e})=>{N(e);let t=(0,p.Yl)((0,D.D)(J),e);t.length>0?M(t[0]):M(void 0),V(!0)},placeholder:J._('Name your board', 'BoardCreateGlowupModal.boardNameInput.placeholder', 'Placeholder for board name input'),size:"lg",value:R}),(0,v.jsx)(P,{label:J._('Make this board secret', 'BoardCreateGlowupModal.privacySettings.label', 'Label for privacy settings'),labelId:"secret-board-toggle",subtext:J._('Only you and collaborators will see this board', 'BoardCreateGlowupModal.privacySettings.subtext', 'Subtext for privacy settings'),children:(0,v.jsx)(i.dO,{id:"secret-board-toggle",name:"isSecretBoard",onChange:({value:t})=>{L(t),$({event_type:t?106:107,view_type:5,view_parameter:87,component:13025,element:53,aux_data:{source:e}})},switched:K})}),(0,v.jsx)(P,{label:J._('Group board', 'BoardCreateGlowupModal.groupBoardSettings.label', 'Label for group board settings'),labelId:"invite-collaborators-button",subtext:J._('Invite others to collaborate on this board', 'BoardCreateGlowupModal.groupBoardSettings.subtext', 'Subtext for group board settings'),children:H.length>0?(0,v.jsx)(i.az,{"data-test-id":"avatar-group",children:(0,v.jsx)(r.Z7,{addCollaborators:!0,collaborators:H.map(e=>({color:Y,name:e.full_name??"",src:e.image_medium_url??""})),onClick:er,role:"button",size:"md"})}):(0,v.jsx)(i.K0,{accessibilityLabel:J._('Invite collaborators', 'BoardCreateGlowupModal.groupBoardSettings.accessibilityLabel', 'Accessibility label for invite collaborators button'),bgColor:"secondary",icon:"person-plus",onClick:er,size:"lg"})})]}),footer:(0,v.jsx)(F.A,{disabled:!!en()||!R.trim(),form:"board-create-glowup-form",fullWidth:!0,onClick:()=>{$({event_type:101,view_type:5,view_parameter:87,component:13025,element:249,aux_data:{source:e}})},size:"lg",submitting:et,text:J._('Create', 'BoardCreateGlowupModal.createButton', 'The button to submit the board creation form')}),heading:J._('Create a board', 'BoardCreateGlowupModal.heading', 'Heading for board create glowup modal'),accessibilityModalLabel:J._('Create a board', 'BoardCreateGlowupModal.accessibilityModalLabel', 'Accessibility label for board create glowup modal')},collaborators:{content:(0,v.jsx)(S,{boardCreateSource:e,selectedContacts:H,setSelectedContacts:G}),footer:null,heading:J._('Invite collaborators', 'BoardCreateGlowupModal.collaborators.heading', 'Heading for invite collaborators screen'),accessibilityModalLabel:J._('Invite collaborators', 'BoardCreateGlowupModal.collaborators.accessibilityModalLabel', 'Accessibility label for invite collaborators screen')}};return(0,v.jsx)(r.aF,{accessibilityModalLabel:eo[ei].accessibilityModalLabel,align:"center",footer:eo[ei].footer,heading:(0,v.jsx)(i.az,{position:"relative",children:(0,v.jsxs)(i.so,{alignItems:"center",justifyContent:"center",width:"100%",children:["main"!==ei&&(0,v.jsx)(i.az,{left:!q,position:"absolute",right:q,children:(0,v.jsx)(i.K0,{accessibilityLabel:J._('Go back', 'BoardCreateGlowupModal.backButton.accessibilityLabel', 'Accessibility label for back button'),icon:"chevron-left",onClick:()=>{(0,n.startTransition)(()=>{es("main")})},size:"lg"})}),"main"===ei&&(0,v.jsx)(i.az,{left:q,position:"absolute",right:!q,children:(0,v.jsx)(i.K0,{accessibilityLabel:(0,d.A)("CLOSE",J),icon:"close",onClick:ea,size:"lg"})}),(0,v.jsx)(i.so.Item,{flex:"grow",children:(0,v.jsx)(i._Y,{accessibilityLevel:1,align:"center",size:"600",children:eo[ei].heading})})]})}),onDismiss:ea,size:"md",children:(0,v.jsx)("form",{id:"board-create-glowup-form",onSubmit:e=>{e.preventDefault();let t=e.currentTarget;(0,n.startTransition)(async()=>{await ee(new FormData(t))})},children:(0,v.jsx)(i.az,{minHeight:600,paddingX:6,paddingY:3,children:eo[ei].content})})})}},928802(e,t,a){a.d(t,{A:()=>r});var l=a(859471),n=a(296221),i=a(110037),s=a(828323);function r(e,t){let{completeExperience:a,dismissExperience:r,mountPlacement:o,unmountPlacement:d,viewExperience:c}=(0,s.Ay)(),{experienceForPlacement:u}=(0,i.A)(e),_=(0,l.useRef)(!1);(0,l.useEffect)(()=>(t&&o(e),()=>{d(e)}),[e,t,o,d]);let p=(0,n.V6)(u)?u.display_data?.suggested_board_name:void 0,h=(0,l.useEffectEvent)(()=>{c(e,u.experience_id)});return(0,l.useEffect)(()=>{p&&h()},[p]),{suggestedBoardName:p,completeExperience(){p&&!_.current&&(a(e,u.experience_id),_.current=!0)},dismissExperience(){p&&!_.current&&(r(e,u.experience_id),_.current=!0)}}}},679530(e,t,a){a.d(t,{D:()=>o,_:()=>r});var l=a(753771),n=a(284247),i=a(734696);let s=(e,t)=>(0,i.RU)({max:e,maxErrorString:(0,n.A)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),r=e=>[s(l.A.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],o=e=>[(0,i.mg)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),s(l.A.MAX_CHARS_FOR_BOARD_TITLE,e)]},259490(e,t,a){a.d(t,{A:()=>C,d:()=>x});var l,n=a(61163),i=a(859471),s=a(974934);a(669897);var r=a(19821),o=a(743372),d=a(535273),c=a(538329),u=a(601185),_=a(844255),p=a(971289),h=a(168079),g=a(522232),m=a(562615);function f({action:e,viewType:t,auxData:a={}}){(0,i.useEffect)(()=>{(0,n.A)("ButtonLinkAction","/app/www/ContentSensitivity/ButtonLinkAction.tsx")},[]);let l=(0,o.A)(),s=(0,p.qJ)(),{button:d}=e,c=d?.text||"",u=d?.link||"";return c&&u?(0,m.jsx)(r.vx,{href:u,iconEnd:"arrow-up-right",onClick:()=>{(0,g.rt)({logContextEvent:l,auxData:{url:u,...a},isDesktop:s,viewType:t})},target:s?"blank":"self",text:c}):null}let b={0:"phone",1:"speech-ellipsis",2:"speech",3:"globe",4:"whatsapp",5:"magnifying-glass"};function y({button:e,contactType:t,viewType:a,auxData:l={},viewParameter:s}){(0,i.useEffect)(()=>{(0,n.A)("CustomActionLink","/app/www/ContentSensitivity/CustomActionLink.tsx")},[]);let d=(0,o.A)(),c=(0,p.qJ)(),u=[0,1].includes(t),_=e?.link||"",h=c&&u?`${e?.text} ${function(e){let[,t]=e.split(":");return t}(_)}`:e?.text,f=b[t]||"arrow-up-right";return h&&_?(0,m.jsx)(r.vx,{href:_,iconStart:f,onClick:()=>{(0,g.rt)({viewParameter:s,logContextEvent:d,viewType:a,auxData:{url:_,...l},isDesktop:c})},target:"blank",text:h}):null}var A=a(843529),v=a(81920),S=a(260787);let P=(void 0!==l||(l=a(150859)).hash&&"6e21ec048bb4ac7d621865a42cf02a6c"!==l.hash&&console.error("The definition of 'SensitiveNotice_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function x({query:e,sensitivityKey:t,viewParameter:a}){(0,i.useEffect)(()=>{(0,n.A)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let l=(0,d.A)(P,t),s=l?.notices;return s?.map(t=>(0,m.jsx)(C,{notice:t,query:e,sensitivity:l,viewParameter:a,viewType:2},t.noticeId))}function C({boardId:e,boardSectionId:t,boardName:a,notice:l,viewType:d,viewParameter:b,query:P,sensitivity:x,objectType:C}){var I,k;let w;(0,i.useEffect)(()=>{(0,n.A)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let T=(0,p.qJ)(),z=(0,c.A)(),E=(0,o.A)(),{title:j,footer:D,description:F,image_type:B,content_image_url:R}=l||{},N=l?.actions??[],K=l?.suggested_resource,L=(0,_._8)(),{checkExperiment:O}=(0,u.A)(),M=O("web_ps_search_advisories_wave_two",{dangerouslySkipActivation:!0}).anyEnabled,{imageSRC:U,imageALT:V}=(I=null==B?S.j.NONE:B,k=R||"",w={[S.j.HIDDEN]:z._('Hidden Illustration.', 'sensitiveNotice.hiddenIllustration', 'Sensitive illustration for hidden content'),[S.j.HOPE]:z._('An illustration of a landscape, clouds, and the sun seen through a window with both shutters open.', 'sensitiveNotice.hopeIllustration', 'Sensitive illustration for hope content'),[S.j.LOVE]:z._('An illustration of heart-shaped flowers arranged in a vase', 'sensitiveNotice.loveIllustration', 'Sensitive illustration for love content')},M&&k?{imageSRC:k,imageALT:k?z._('Illustration.', 'sensitiveNotice.customIllustration', 'Sensitive illustration for custom content'):""}:I===S.j.CUSTOM?{imageSRC:k,imageALT:z._('Illustration.', 'sensitiveNotice.customIllustration', 'Sensitive illustration for custom content')}:I===S.j.NONE?{imageSRC:"",imageALT:""}:{imageSRC:g.Zm[I],imageALT:w[I]}),H={advisory_level:x?.advisory,entered_query:P,severity_level:x?.severity,stage:L.stage,advisory_type:x?.advisory_type,resource_country:x?.resource_country,board_name:a,board_id:e,board_section_id:t};return(0,h.A)(()=>{d&&(E({aux_data:H,event_type:120,component:13367,view_parameter:b,view_type:d}),(0,v.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:H.advisory_level,advisory_type:H.advisory_type,app:T?"DESKTOP_WEB":"MOBILE_WEB",resource_country:H.resource_country,placement:d,object_type:C}})),e&&5===d&&E({aux_data:{board_id:e,board_section_id:t??0},component:178,event_type:15549,view_parameter:b,view_type:d})}),(0,m.jsx)(r.az,{"data-test-id":"search-advisory",children:(0,m.jsxs)(r.az,{"data-test-id":"fresh-search-advisory",margin:"auto",maxWidth:"800px",padding:6,rounding:200,children:[U&&(0,m.jsx)(r.so,{justifyContent:T?"center":"start",children:(0,m.jsx)(r.az,{height:120,marginBottom:4,width:120,children:(0,m.jsx)(r._V,{alt:V,fit:"contain",naturalHeight:1,naturalWidth:1,src:U})})}),!!j&&(0,m.jsx)(r.az,{display:"flex",marginBottom:2,children:(0,m.jsx)(r._Y,{size:"400",children:j})}),!!F&&(0,m.jsx)(r.az,{marginBottom:4,children:(0,m.jsx)(r.KJ,{size:"200",children:(0,A.A)(F?.text||"",F?.text_tags||[],E,H,T)})}),K&&(0,m.jsxs)(r.az,{marginBottom:4,children:[(0,m.jsx)(r.KJ,{size:"200",weight:"bold",children:z._('Suggested resource', 'sensitiveNotice.suggestedResource', 'This string is a subtitle. It appears in an alert message to users who may benefit from receiving mental health and crisis resources. Underneath the subtitle, we\u2019ll show a single resource that seems the most helpful for  the user. We use \u201Csuggested\u201D rather than \u201Crecommended\u201D to soften the framing, as this resource isn\u2019t personalized or an endorsement from Pinterest. The tone of this string is helpful, but not strongly encouraging')}),(0,m.jsx)(r.az,{marginTop:2,children:(0,m.jsx)(r.KJ,{size:"200",children:K})})]}),(0,m.jsx)(r.so,{direction:"column",gap:2,children:N.map(e=>e?.button?.contact_type?(0,m.jsx)(y,{auxData:H,button:e.button,contactType:e.button.contact_type,viewParameter:b,viewType:d},e.id||e.actionId):(0,m.jsx)(f,{action:e,auxData:H,viewParameter:b,viewType:d},e.id))}),!!D&&(0,m.jsx)(r.az,{marginTop:4,children:(0,m.jsx)(r.KJ,{color:"subtle",size:"100",children:(0,m.jsx)(s.Ay,{options:{overrides:{b:{component:({children:e})=>(0,m.jsx)(r.N_,{display:"inline",href:D.link??"",onClick:()=>{(0,g.rt)({logContextEvent:E,auxData:{...H,url:D.link},isDesktop:T,placement:d,objectType:C,viewType:d,viewParameter:b})},target:"blank",children:(0,m.jsx)(r.KJ,{color:"subtle",inline:!0,size:"100",weight:"bold",children:e})},D.link)}}},children:D.text})})})]})})}},522232(e,t,a){a.d(t,{Zm:()=>s,bh:()=>o,dB:()=>r,k9:()=>i,rt:()=>d});var l=a(81920),n=a(260787);let i={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2},s={[n.j.HIDDEN]:"https://i.pinimg.com/originals/0d/fc/e7/0dfce74a82e89659495f1c9257fed188.png",[n.j.HOPE]:"https://i.pinimg.com/originals/46/d7/70/46d7705570b3c23562a70f39817b7b19.png",[n.j.LOVE]:"https://i.pinimg.com/originals/60/7e/d2/607ed2380d9fa28047f211dc6a7e8576.png"};function r(e){return null!=e&&!!e.notices&&e.notices.length>0}function o(e){return!!e&&e.severity===i.ABUSIVE}function d({auxData:e,isDesktop:t,logContextEvent:a,objectType:n,placement:i,viewType:s,viewParameter:r}){a({aux_data:e,component:13367,element:11180,event_type:t?101:102,view_parameter:r||43,view_type:s||2}),(0,l.U9)("webapp.advisories.action",1,{sampleRate:1,tags:{advisory_level:e.advisory_level,advisory_type:e.advisory_type,app:t?"DESKTOP_WEB":"MOBILE_WEB",url:e.url,resource_country:e.resource_country,object_type:n,placement:i}})}},843529(e,t,a){a.d(t,{A:()=>s});var l=a(19821),n=a(522232),i=a(562615);function s(e,t,a,r={},o){let d=[],c=0;for(let s=0;s<t.length;s+=1){let u=t[s];if(5===u.tag_type&&u.link){let{offset:t,length:_,link:p}=u;if(null!=t&&null!=_&&null!=p){let u=e.substring(t,t+_),h=(0,i.jsx)(l.N_,{display:"inline",href:p,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,n.rt)({auxData:{...r,url:p},isDesktop:o,logContextEvent:a})},target:"blank",underline:"hover",children:(0,i.jsx)(l.KJ,{inline:!0,weight:"bold",children:u})},`link-${s}-${u}`);d.push((0,i.jsx)(l.KJ,{inline:!0,children:e.substring(c,t)},`text-${s}-${u}`)),d.push(h),c=t+_}}}return(c>0&&d.push((0,i.jsx)(l.KJ,{inline:!0,children:e.substring(c)},e.substring(c))),0===d.length)?[(0,i.jsx)("span",{children:e},e)]:d}},592023(e,t,a){a.d(t,{A:()=>B});var l,n,i,s,r=a(61163),o=a(859471),d=a(586733),c=a(601185),u=a(844255),_=a(971289),p=a(168079),h=a(259490);a(825193);var g=a(19821),m=a(535273),f=a(743372),b=a(386379),y=a(522232),A=a(236503),v=a(562615);let S=(void 0!==l||(l=a(183594)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==l.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function P({auxData:e,actionKey:t,alignCenter:a}){(0,o.useEffect)(()=>{(0,r.A)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let l=(0,m.A)(S,t),n=(0,f.A)(),i=(0,_.qJ)(),{title:s,description:d,button:c}=l,u=c?.text,p=s?.text,h=d?.text,P=c?.link??"",x=P.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),C=u&&P.startsWith("http"),I=(0,b.A)({url:P}),k=C&&I?"nofollow":"none";return e?.advisory_type===A.IQ?(0,v.jsx)(o.Fragment,{children:(0,v.jsxs)(g.so,{direction:"column",gap:3,justifyContent:"start",children:[!!p&&(0,v.jsx)(g.KJ,{align:"start",weight:"bold",children:p}),!!h&&(0,v.jsx)(g.KJ,{align:"start",children:h}),(0,v.jsx)(g.vx,{color:"tertiary",href:P,onClick:()=>{(0,y.rt)({auxData:{...e,url:P},isDesktop:i,logContextEvent:n})},rel:k,text:u||"Visit"})]})}):C?(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(g.az,{marginBottom:1,children:(0,v.jsx)(g.KJ,{align:a?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,v.jsx)(g.az,{marginBottom:1,children:(0,v.jsx)(g.N_,{href:P,onClick:()=>{(0,y.rt)({logContextEvent:n,auxData:{...e,url:P},isDesktop:i})},rel:k,children:(0,v.jsx)(g.KJ,{align:a?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:x})})})]}):(0,v.jsxs)(o.Fragment,{children:[!!p&&(0,v.jsx)(g.az,{marginBottom:1,children:(0,v.jsx)(g.KJ,{align:a?"center":"start",weight:"bold",children:p})}),!!h&&(0,v.jsx)(g.az,{marginBottom:1,children:(0,v.jsx)(g.KJ,{align:a?"center":"start",children:h})})]})}let x=(void 0!==n||(n=a(456359)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==n.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function C({text:e,textTags:t,auxData:a}){let l=(0,f.A)(),n=(0,_.qJ)(),i=[],s=0;for(let r=0;r<t.length;r+=1){let o=t[r];if(5===o.tagType&&o.link){let{offset:t,length:d,link:c}=o;if(null!=t&&null!=d&&null!=c){let o=e.substring(t,t+d),u=(0,v.jsx)(g.KJ,{inline:!0,weight:"bold",children:(0,v.jsx)(g.N_,{display:"inlineBlock",href:c,onClick:()=>{(0,y.rt)({logContextEvent:l,auxData:{...a,url:c},isDesktop:n})},target:"blank",underline:"hover",children:o})},`link-${r}-${t}`);i.push((0,v.jsx)("span",{children:e.substring(s,t)},`text-${r}-${s}`)),i.push(u),s=t+d}}}return(s>0&&i.push((0,v.jsx)("span",{children:e.substring(s)},`text-end-${s}`)),0===i.length)?[(0,v.jsx)("span",{children:e},"text-full")]:i}function I({auxData:e,textTagKey:t,text:a}){(0,o.useEffect)(()=>{(0,r.A)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let l=(0,m.A)(x,t);return(0,v.jsx)(C,{auxData:e,text:a,textTags:l})}let k=[4,14],w={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},T={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},z=(void 0!==i||(i=a(405940)).hash&&"5879c4710b107f258f42156bf3e47e37"!==i.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function E({auxData:e,advisory:t,inModal:a,noticeKey:l}){(0,o.useEffect)(()=>{(0,r.A)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:n,description:i,actions:s}=(0,m.A)(z,l),d=!!s?.length&&(e?.advisory_type===A.IQ||!!t&&k.includes(t)),c=s?.length===1,u=i&&i.text||"";return(0,v.jsxs)(g.az,{dangerouslySetInlineStyle:{__style:a?T:w},padding:6,rounding:200,children:[!!n&&!a&&(0,v.jsx)(g.az,{display:"flex",marginBottom:2,children:(0,v.jsx)(g._Y,{size:"600",children:n})}),!!u&&i?.textTags!=null&&(0,v.jsx)(g.az,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(g.KJ,{align:a?"center":"start",overflow:"normal",children:(0,v.jsx)(I,{auxData:e,text:u,textTagKey:i.textTags})})})}),d&&(0,v.jsx)(g.az,{direction:a?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:s?.map(t=>(0,v.jsx)(g.az,{column:a||c?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(P,{actionKey:t,alignCenter:a||c,auxData:e})},t.actionId))})]})}let j=(void 0!==s||(s=a(263986)).hash&&"fa2efeb6b4c660680d9f3a0e156c8007"!==s.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function D({auxData:e,noticeKey:t}){(0,o.useEffect)(()=>{(0,r.A)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let a=(0,m.A)(j,t),l=(0,f.A)(),n=(0,_.qJ)(),i={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(g.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(g.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:800,width:656,children:(0,v.jsxs)(g.az,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:i,children:a.description?.textTags&&(0,v.jsx)(I,{text:a.description?.text||"",textTagKey:a.description.textTags})}),(0,v.jsx)(g.az,{marginTop:6,children:(a.actions??[]).map(t=>{let a=t.button?.link;return a&&a.startsWith("tel")?(0,v.jsxs)(g.az,{children:[(0,v.jsx)("span",{style:{fontWeight:"600",...i},children:t.title?.text}),(0,v.jsx)("span",{style:i,children:t.description?.text})]},t.actionId):(0,v.jsx)(g.N_,{href:a||"",onClick:()=>{(0,y.rt)({logContextEvent:l,auxData:{...e,url:a||"",isLegoNotice:!0},isDesktop:n})},children:(0,v.jsx)(g.az,{display:"inlineBlock",children:(0,v.jsx)(g.az,{alignItems:"center",color:"info",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(g.KJ,{color:"inverse",weight:"bold",children:t.button?.text||""})})})},t.actionId)})})]})}),!!a.footer&&(0,v.jsx)(g.az,{paddingY:2,width:540,children:(0,v.jsx)(g.N_,{display:"inlineBlock",href:a.footer.link??"",onClick:()=>{(0,y.rt)({logContextEvent:l,auxData:{...e,url:a.footer?.link??"",isLegoNotice:!0},isDesktop:n})},target:"blank",underline:"hover",children:(0,v.jsx)(g.KJ,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:a.footer.text??""}})})},a.footer.link)})]})}var F=a(81920);function B({boardId:e,isOwnBoard:t,boardName:a,boardSectionId:l,notices:n,query:i,sensitivity:s,viewParameter:g,viewType:m,inModal:f}){(0,o.useEffect)(()=>{(0,r.A)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:a,boardSectionId:l,query:n,sensitivity:i,viewParameter:s,viewType:r}){let{logContextEvent:o}=(0,d.o)(),c=(0,_.qJ)();(0,p.A)(()=>{r&&(o({aux_data:{entered_query:n,advisory_details:e,advisory_level:i?.advisory,severity_level:i?.severity,advisory_type:i?.advisory_type,resource_country:i?.resource_country},component:13367,event_type:120,view_parameter:s,view_type:r}),(0,F.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:i?.advisory,advisory_type:i?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:i?.resource_country,placement:5===r?"board":"search"}})),t&&5===r&&o({aux_data:{board_name:a,board_id:t,board_section_id:l??0},component:178,event_type:15549,view_parameter:s,view_type:r})})}({advisoryDetails:s?.advisory_details,boardId:e,boardSectionId:l,query:i,sensitivity:{advisory:s?.advisory,severity:s?.severity},viewParameter:g,viewType:m});let{checkExperiment:b}=(0,c.A)(),y=(0,u._8)(),A={advisory_level:s?.advisory||null,severity_level:s?.severity||null,advisory_type:s?.advisory_type||"",stage:y.stage,resource_country:s?.resource_country||"",entered_query:i||""};if(b("ps_board_advisories_ui_refresh").anyEnabled){let i=t?4173:4174;return(0,v.jsx)(o.Fragment,{children:n?.map(t=>(0,v.jsx)(h.A,{boardId:e,boardName:a,boardSectionId:l,notice:t,objectType:l?164:5,sensitivity:s,viewParameter:l?i:g,viewType:l?164:5},t.id))})}return(0,v.jsx)(o.Fragment,{children:n?.map(e=>2===e.style?(0,v.jsx)(D,{auxData:A,noticeKey:{type:"Legacy",data:e}},e.id):(0,v.jsx)(E,{advisory:s?.advisory,inModal:f,noticeKey:{type:"Legacy",data:e}},e.id))})}},236503(e,t,a){a.d(t,{IQ:()=>s,bh:()=>i,im:()=>l,k9:()=>n});let l={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return!!e&&e.severity===n.ABUSIVE}let s="THIRD_PARTY_TL"},998317(e,t,a){a.d(t,{Ay:()=>c,fG:()=>u,z1:()=>d});var l,n=a(224989),i=a(224723),s=a(106301),r=a(762512);let o=(void 0!==l||(l=a(201563)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==l.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function d(e){let{notices:t,advisory:a,severity:l}=(0,n.useFragment)(o,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:a,severity:l}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:a}=e,l=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(l=!1),{hasNotices:l,advisory:t,severity:a}}function u(e){let{scope:t}=(0,s.u)(),{data:a,isLoaded:l}=(0,r.A)(),n=d(e);if(t===i.cO.USERS)return n;if(!l||!a)return{hasNotices:!1};let{sensitivity:o}=a;return c(o)}},871023(e,t,a){a.d(t,{A:()=>s});var l=a(859471),n=a(284966);function i(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class s extends l.PureComponent{constructor(...e){super(...e),i(this,"setContainerRef",e=>{this.containerRef=e}),i(this,"fetchMoreIfNecessary",(0,n.A)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:a},l)=>e+t+(l?l(t):2*t)>a)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},160451(e,t,a){a.d(t,{A:()=>l});let l=4},31973(e,t,a){a.d(t,{A:()=>u});var l=a(61163),n=a(859471),i=a(19821),s=a(586733),r=a(538329),o=a(542975),d=a(678358),c=a(562615);function u({accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:a,clientTrackingParams:u,dropdownRef:_,hideDropdown:p=!1,isSaved:h,onBoardDropdownClick:g,onSaveClick:m,promotedIsLeadAd:f,renderPinSaveTooltip:b,selectedItem:y,selectedTitle:A,showBoardFlyout:v,showPromoteBanner:S=!1,unselectedText:P,variant:x,viewParameter:C,viewType:I,surface:k}){(0,n.useEffect)(()=>{(0,l.A)("BoardSelectionDisplay","/app/www/common/PinBetterSave/BoardSelectionDisplay.tsx")},[]);let[w,T]=(0,n.useState)(!1),z=(0,r.A)(),E=(0,n.useRef)(null),{closeupWithinMasonryEnabled:j}=(0,d._G)(),{logContextEvent:D}=(0,s.o)();(0,n.useEffect)(()=>{w&&T(!1)},[w]);let F=(0,n.useEffectEvent)(()=>{D({event_type:13,...I?{view_type:I}:Object.freeze({}),...C?{view_parameter:C}:Object.freeze({}),component:13282,element:14348,object_id_str:y?.boardId,clientTrackingParams:u,aux_data:{is_profile_save:y?.type==="boardless"}})});(0,n.useEffect)(()=>{y&&y?.type==="boardless"&&F()},[y]);let B=A||P,R="closeup"===x,N="media-viewer"===x,K="comparison"===x,L="VideoCarouselModule"===k,O=(0,n.useMemo)(()=>K?"inverse":N?v?"inverse":"default":v||!R?"light":"default",[R,v,N,K]),M=(0,n.useCallback)(({event:e})=>{g(e)},[g]),U=R?"transparent":"transparentInverse";U=N?"tertiarySemiTransparent":U,U=K?"transparentInverse":U;let V=h?z._('Saved', 'PinBetterSave.BoardSelection.SavedButton', 'BetterSave Saved label'):z._('Save', 'PinBetterSave.BoardSelection.SaveButton', 'BetterSave Save label');return(0,c.jsxs)(i.az,{alignItems:N?"start":"center",dangerouslySetInlineStyle:{__style:{gap:"4px"}},display:"flex",paddingX:j?0:void 0,width:"100%",children:[!p&&(0,c.jsx)(i.az,{"data-test-id":A?"board-selection-item-selected":"board-selection-placeholder",flex:"grow",width:"100%",children:(0,c.jsx)(i.$n,{ref:_,accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:a,accessibilityLabel:(0,o.$)(z._('Select a board to save to: {{ boardName }}', 'PinBetterSave.BoardSelection.DropdownIcon', 'Accessibility label used to prompt the user to select the board where the Pin will be saved. boardName: The name of the board'),{boardName:B}),color:U,dataTestId:"PinBetterSaveDropdown",iconEnd:"chevron-down",onClick:M,selected:v,size:L?"sm":"lg",text:(0,c.jsx)(i.KJ,{color:O,lineClamp:1,overflow:"breakAll",size:L?"100":"300",weight:"bold",children:B})})}),(0,c.jsx)(i.az,{alignSelf:R?"center":"start","data-test-id":"PinBetterSaveButton",flex:"none",marginStart:"auto",children:(0,c.jsx)(i.PF,{ref:E,color:f||R&&S?"secondary":"primary",onClick:({event:e})=>{p?g(e):m(e)},selected:h,size:L?"sm":"lg",text:V})}),!!b&&!!E.current&&R&&b(E.current)]})}},861955(e,t,a){a.r(t),a.d(t,{default:()=>ew,PinBetterSave:()=>ek});var l,n,i,s,r=a(61163),o=a(859471),d=a(106386);a(825193);var c=a(979638),u=a(19821),_=a(427471),p=a(243439),h=a(342256),g=a(548566),m=a(706114),f=a(586733),b=a(162036),y=a(948641),A=a(588376),v=a(668014),S=a(457315),P=a(296221),x=a(171768),C=a(567176),I=a(693154),k=a(535273),w=a(662449),T=a(538329),z=a(542975),E=a(173832),j=a(601185),D=a(430705),F=a(998556),B=a(981147),R=a(706466),N=a(803489),K=a(935504),L=a(385336),O=a(678358),M=a(255889),U=a(160451),V=a(400235),H=a(31973),G=a(819515),J=a(562615);class $ extends o.PureComponent{constructor(...e){var t,a,l;super(...e),t="handleClick",a=()=>{let{boardId:e,logContextEvent:t}=this.props;t({event_type:101,component:20,element:10805,object_id_str:e})},(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}componentDidMount(){let{toastShown:e}=this.props;e()}render(){let{boardName:e,boardUrl:t,onHide:a}=this.props;return(0,J.jsx)(C.A,{duration:5e3,href:`${t}more_ideas/?ideas_referrer=16`,onClick:this.handleClick,onHide:a,text:(0,J.jsx)(u.KJ,{weight:"bold",children:(0,z.vQ)(this.props.i18n._('Find more ideas for {{ boardName }}', 'postRepinUpsellToast.findMoreIdeas.toast', 'Find more ideas for you board'),{boardName:e}).join("")})})}}function q(e){(0,o.useEffect)(()=>{(0,r.A)("PostRepinUpsellToast","/app/www/common/PinBetterSave/PostRepinUpsellToast.tsx")},[]);let{logContextEvent:t}=(0,f.o)(),a=(0,T.A)(),l=(0,d.wA)();return(0,J.jsx)($,{...e,i18n:a,logContextEvent:t,toastShown:()=>l((0,G.aC)(e.boardId))})}var W=a(201593),Y=a(989457),Q=a(923142),X=a(170052),Z=a(168079);let ee=(0,o.lazy)(()=>Promise.all([a.e("96722"),a.e("74377"),a.e("13112")]).then(a.bind(a,301136)));function et(e){(0,o.useEffect)(()=>{(0,r.A)("PostSavedPinBoardCollabUpsell","/app/www/common/PinBetterSave/PostSavedPinBoardCollabUpsell.tsx")},[]);let{board:t,hideToast:a}=e,l=(0,T.A)(),{isDarkMode:n}=(0,W.D2)(),i=(0,I.A)(),[s,d]=(0,o.useState)(!1),[c,_]=(0,o.useState)(!1),p=()=>{a()};(0,Z.A)(()=>{setTimeout(()=>_(!0),100)});let{marginTop:h,opacity:g,pointerEvents:m,transform:f,transition:b,visibility:y}=(0,Q.A)({deviceType:"desktop",hiding:!1,visible:c}),A=t.name,v=(0,J.jsxs)(u.KJ,{children:[(0,J.jsxs)(u.KJ,{weight:"bold",children:[" ",(0,z.vQ)(l._('Invite people to your new board', 'postSavedPinBoardCreateCollabUpsell.title.1', 'Title to inform user that they have successfully saved a pin to their board'),{boardName:A})]}),(0,J.jsx)(u.KJ,{children:l._('Get ideas from your favorite people', 'postSavedPinBoardCollabUpsell.message', 'Message to upsell invite collaborator feature')})]}),S=i.isAuth&&i.firstName&&(0,J.jsxs)(u.az,{height:48,position:"relative",width:48,children:[(0,J.jsx)(u.az,{position:"absolute",children:(0,J.jsx)(Y.eu,{color:i.avatar_color_index,name:i.firstName,outline:!0,size:"sm",src:i.imageMediumUrl})}),(0,J.jsx)(u.az,{dangerouslySetInlineStyle:{__style:{left:"25%",top:"25%"}},position:"absolute",rounding:400,children:(0,J.jsx)(u.DR,{bgColor:"lightGray",hovered:!0,icon:"person-plus",iconColor:"darkGray",size:"sm"})})]}),P=(0,J.jsx)(u.so,{alignContent:"center",alignItems:"center",justifyContent:"start",children:(0,J.jsxs)(u.e2,{children:[(0,J.jsx)(u.$n,{accessibilityLabel:l._('Not now', 'postSavedPinBoardCollabUpsell.notNowLabel', 'Accessibility label for declining upsell'),color:"secondary",onClick:p,text:l._('Not now', 'postSavedPinBoardCollabUpsell.notNowLabel', 'Label for decline button on upsell')}),(0,J.jsx)(u.$n,{accessibilityLabel:l._('Invite', 'postSavedPinBoardCollabUpsell.inviteFriendsLabel', 'Accessibility label for inviting friends on upsell'),color:"primary",onClick:()=>{d(!0)},text:l._('Invite', 'postSavedPinBoardCollabUpsell.inviteFriendsLabel', 'Label for invite friends button on upsell')})]})});return(0,J.jsx)(u.Wd,{zIndex:new u.K5([new u.rk(1e3)]),children:s?(0,J.jsx)(X.A,{children:(0,J.jsx)(ee,{board:t,fromBoardCollabUpsell:!0,onDismiss:p})}):(0,J.jsx)(u.az,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{transform:f,transition:b,visibility:y,pointerEvents:m}},display:"flex",justifyContent:"center",marginBottom:5,marginTop:h,opacity:g,position:"fixed",width:"100%",children:(0,J.jsxs)(u.az,{color:n?void 0:"default",dangerouslySetInlineStyle:n?{__style:{backgroundColor:"var(--base-color-transparent)"}}:void 0,direction:"column",display:"flex",elevation:"shadowFloating",paddingY:4,rounding:400,smDirection:"row",children:[(0,J.jsxs)(u.az,{smDisplay:"flex",smMarginBottom:-3,smMarginTop:-3,width:"100%",wrap:!0,children:[(0,J.jsxs)(u.az,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",justifyContent:"center",padding:4,smDirection:"row",smPaddingY:3,children:[S,(0,J.jsx)(u.az,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",marginBottom:"auto",marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:2,children:(0,J.jsx)(u.az,{maxWidth:648,children:v})})]}),P]}),(0,J.jsx)(u.K0,{accessibilityLabel:"cancel",icon:"close",iconColor:"default",onClick:p,padding:4,size:"sm"})]})})})}var ea=a(409652),el=a(541322),en=a(629494),ei=a(236503),es=a(998317),er=a(961403),eo=a(878913),ed=a(3447),ec=a(777064),eu=a(204398),e_=a(816964),ep=a(513010),eh=a(402489),eg=a(974694),em=a(504252),ef=a(792047);let eb=(void 0!==l||(l=a(501978)).hash&&"03aa6b9cad1d5fb9b12a7c896ccdaffd"!==l.hash&&console.error("The definition of 'PinSaveRequestRepinWithSectionSuggestions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),ey=(void 0!==n||(n=a(727999)).hash&&"6bd1eb83cfe5391288164b17cc5d85b7"!==n.hash&&console.error("The definition of 'PinSaveRequestRepinWithSectionSuggestions_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function eA(e){(0,o.useEffect)(()=>{(0,r.A)("PinSaveRequestRepinWithSectionSuggestions","/app/www/save/pin-to-board/PinToBoard/PinSaveRequestRepinWithSectionSuggestions.tsx")},[]);let{action:t,additionalCreateFields:a,boardWithSection:l,clientTrackingParams:n,children:i,onClose:s,pinKey:d,setCompletionPromise:c,shouldHideToast:u,shuffleAssetKey:_}=e,p=(0,k.A)(eb,d),h=(0,k.A)(ey,_);return(0,J.jsx)(ef.a,{action:t,additionalCreateFields:a,boardWithSection:l,clientTrackingParams:n,onClose:s,pinKey:p,setCompletionPromise:c,shouldShowToast:!u,showCreate:!0,shuffleAssetKey:h,urlPinInfo:null,children:e=>i(e)})}var ev=a(476257),eS=a(81920);function eP(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let ex=(void 0!==i||(i=a(985455)).hash&&"30d8edb71deeb3f1a4abc132d299e97a"!==i.hash&&console.error("The definition of 'PinBetterSave_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),eC=(void 0!==s||(s=a(925878)).hash&&"1f53887e43dccddcc1fb109a988e5c3d"!==s.hash&&console.error("The definition of 'PinBetterSave_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function eI({ref:e,savedInfo:t,variant:a}){let l=(0,T.A)(),{closeupWithinMasonryEnabled:n}=(0,O._G)(),i="closeup"===a,s="boardless"===t.type?l._('Profile', 'PinBetterSave.PinBetterSaveSavedStatus.savedTitle', 'Text indicating saved to your profile'):t.title??"";return(0,J.jsx)(u.N_,{ref:e,href:t.url||"",onClick:({event:e})=>{e.stopPropagation()},children:(0,J.jsx)(u.az,{alignItems:i?"center":void 0,dangerouslySetInlineStyle:{__style:{color:n?"#FFF":"#333"}},"data-test-id":"saved-board-title",display:i?"flex":"block",marginEnd:4*!!i,marginStart:+!!i,minHeight:i?52:void 0,children:(0,J.jsx)(u.KJ,{align:i?"end":void 0,color:"cutout"===a||"media-viewer"===a?"light":"default",lineClamp:i?1:void 0,overflow:"breakAll",size:"300",weight:"bold",children:s})})})}class ek extends o.Component{constructor(...e){super(...e),eP(this,"state",{boardWithSection:null,createdBoard:null,suggestedBoardTitle:"",showBoardFlyout:!1,showRepinModal:!1,sensitiveContentNotice:null,showBoardCollabUpsell:!1,hasItemSelected:!1}),eP(this,"setBoardSaveCompletionPromise",e=>{let{createdBoard:t}=this.state;this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(e=>{if(!e.board)return;let{board:{id:a,name:l,url:n}}=e,i={boardId:a,title:l,url:n};this.updateSelectedBoardOrSection(i),this.updateSavedState({...i,localPinId:e.id}),this.props.onVisitButtonAnimate?.(),t&&(0,ei.bh)(t.sensitivity)&&(0,es.Ay)(t.sensitivity)?this.setState({sensitiveContentNotice:t.sensitivity.notices[0]}):this.handleRepinHide()})}),eP(this,"updateSavedState",e=>{let{currentHistoryStack:t,location:a,save:l,searchQueryInvalidated:n,onSave:i,pin:s}=this.props,r=(0,N.A)(a.search).q||(0,M.V)(t);l({pinId:s.entityId,nodeId:s.__id,boardId:e.boardId??"",localPinId:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??"",type:e.type??"",url:e.url??""}),r&&n(r),i&&e.localPinId&&i()}),eP(this,"updateSelectedBoardOrSection",e=>{let{selectBoardOrSection:t,pin:a}=this.props;t({pinId:a.entityId,nodeId:a.__id,boardId:e.boardId??"",localPinId:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??"",type:e.type??"",url:e.url??""})}),eP(this,"updateSelectedItem",()=>{let{initialSelection:e,selectedItem:t}=this.props;!t&&e&&(this.updateSelectedBoardOrSection(e),this.setState({hasItemSelected:!0}))}),eP(this,"dropdownRef",(0,o.createRef)()),eP(this,"boardSelectedRef",(0,o.createRef)()),eP(this,"handleItemChosen",e=>{this.updateSelectedBoardOrSection(e),this.hideFlyout(!0),this.save({item:e})}),eP(this,"handleBoardCreate",({title:e=""}={})=>{let{requireAuth:t,i18n:a}=this.props;if(t)return void t({loginModalHeader:(0,b.R2)(a)});this.hideFlyout(!0),this.setState(t=>({...t,suggestedBoardTitle:e,showRepinModal:!0}));let{onToggleFlyout:l}=this.props;l&&l(!0,!0)}),eP(this,"handleBoardCreated",e=>{this.setState({createdBoard:e});let{toastManagerContext:t}=this.props;this.isViewerEligibleForBoardCollabUpsell(e)&&(this.setState({showBoardCollabUpsell:!0}),(0,F.y1)().setItem(m.$0,+new Date),setTimeout(()=>t.showOneToast(({hideToast:t})=>(0,J.jsx)(et,{board:e,hideToast:t})),4e3))}),eP(this,"handleRepinHide",()=>{this.setState(e=>({...e,suggestedBoardTitle:"",showRepinModal:!1}));let{onToggleFlyout:e}=this.props;e&&e(!1,!1)}),eP(this,"handleBoardDropdownClick",e=>{let{setAbortNoActionPlacementTimeout:t,pin:{entityId:a},viewParameter:l,viewType:n,clientTrackingParams:i,logContextEvent:s}=this.props;t(!0),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.state.showBoardFlyout?this.hideFlyout(!0):(s({aux_data:{pin_id:a},component:13282,element:10960,event_type:101,object_id_str:a,view_parameter:l,view_type:n,clientTrackingParams:i}),this.showFlyout())}),eP(this,"handleSaveClick",async(e,t)=>{let{i18n:a,selectedItem:l,requireAuth:n}=this.props;if(n){e.stopPropagation(),n({loginModalHeader:(0,b.Mm)(a)});return}t||!l?this.handleBoardDropdownClick(e):(e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.logClickEvent({isSaveClick:!0}),await this.save({item:l}))}),eP(this,"logClickEvent",({isSaveClick:e})=>{let{clientTrackingParams:t,pin:a,selectedItem:l,viewType:n,viewParameter:i,logContextEvent:s,currentHistoryStack:r,viewer:o}=this.props,{trafficSource:d}=(0,p.A)(r,o?.isAuth??!1),c=l?.score?JSON.stringify([l.score]):void 0;s({event_type:101,...n?{view_type:n}:Object.freeze({}),...i?{view_parameter:i}:Object.freeze({}),component:13282,element:36,object_id_str:l?.boardId,clientTrackingParams:t,aux_data:{board_id:l?.boardId,grid_index:U.A,is_profile_save:l?.type==="boardless",is_undo:!e,pin_id:a.entityId,source:d,suggested_boards_score_list:c}})}),eP(this,"setBoardWithSection",e=>{this.setState({boardWithSection:e})}),eP(this,"handleEditSubmit",({boardId:e,sectionId:t,url:a,title:l})=>{let{savedInfo:n}=this.props,i=n?.localPinId;this.updateSavedState({localPinId:i||"",boardId:e,sectionId:t||"",url:a,title:l})}),eP(this,"resetPinSavedState",()=>{this.updateSavedState({boardId:"",localPinId:"",sectionId:"",title:"",url:""})}),eP(this,"deleteSavedState",({isDisableToast:e,newPinId:t})=>{let{clientTrackingParams:a,i18n:l,onDelete:n,pin:i,toastManagerContext:s,unsave:r}=this.props;r({pinId:i.entityId,nodeId:i.__id}),t&&_.A.create("PinResource",{id:t,client_tracking_params:a}).callDelete().then(()=>{e||s.showToast(({hideToast:e})=>(0,J.jsx)(C.A,{dataTestId:"pin-better-save-removed-pin-toast",onHide:e,text:i.savedInfo?.boardId?l._('Removed from your board!', 'PinBetterSave.SavedPin.RemovedFromYourBoard', 'User removed their pin'):l._('Pin removed!', 'PinBetterSave.SavedPin.PinRemoved', 'User removed their pin')}))}),n&&n()}),eP(this,"save",async({item:e,movedBoardTitle:t})=>{let{onClickCallback:a,requireAuth:l,onVisitButtonAnimate:n}=this.props;if(l)return void l();n?.();let{addNewPinToPinsFeed:i,i18n:s,isLimitedLogin:r,mostRecentBoard:o,pin:d,postRepinMoreIdeasUpsell:c,postRepinUpsellDisabled:u,save:_,setMostRecentBoard:p,toastManagerContext:h,showEmailVerificationReminderModal:m,mountAfterActionPlacement:f,pinnerBlockedByMe:b}=this.props;b||this.updateSavedState(e);let y=!!e.sectionId,A="boardless"===e.type,v=!1;try{let{resource_response:{data:l}}=await this.getPinResource(e).callCreate({showError:!1}),n=e.url,{checkExperiment:r,incrementBoardPinCount:m,updateUserPinCount:b,viewer:S,viewerUserId:P}=this.props;!u&&n&&!A&&(({boardId:e,boardUrl:t,postRepinMoreIdeasUpsell:a})=>{if(!t)return!1;let{recentSaves:l,recentUpsell:n}=a;if(n[e])return!1;let i=l.findIndex(t=>t.boardId!==e);return(-1===i?l.length:i)+1>=3})({boardId:e.boardId??"",boardUrl:n,postRepinMoreIdeasUpsell:c})&&(h.showToast(({hideToast:t})=>(0,J.jsx)(q,{boardId:e.boardId??"",boardName:e.title??"",boardUrl:n,onHide:t})),v=!0),_({pinId:d.entityId,nodeId:d.__id,boardId:e.boardId??(l.board.id||""),localPinId:l.id?l.id:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??(l.board.title||""),type:e.type??"",url:e.url??(l.board.url||""),localPin:l}),this.props.onPinCreate&&this.props.onPinCreate({boardId:l.board.id,pinId:l.id}),m({boardId:e.boardId??"",sectionId:e.sectionId}),b(P);let x=e.sectionId?e.sectionId:e.boardId;A?(x=P,i(x,l.id,!1,A)):i(x??"",l.id,y,!1);let{id:I,images:k,board:w}=l,T=k["236x"];this.updateSavedState({...e,localPinId:I});let E=S?.isAuth&&S?.pinCount,j=S?.isAuth&&S?.boardCount,D=(2===E||3===E)&&j&&j<2,F=D?r("ap_dweb_first_board_creation").group:null,B=D?r("ap_dweb_res_user_first_board_creation",{dangerouslySkipActivation:!0}).group:null;if(B?.startsWith("enabled")||(F&&"control"!==F&&"enabled_three"!==F||2!==E)&&("enabled_four"!==F&&"enabled_genie"!==F||3!==E)||t)v||h.showToast(({hideToast:a})=>t?(0,J.jsx)(C.A,{onHide:a,text:(0,z.vQ)(s._('Moved to {{ boardName }}', 'PinBetterSave.SavedPin.MovedToBoard', 'User moved their pin. boardName: the board name where the pin is moved to'),{boardName:t}).join("")}):(0,J.jsx)(ea.A,{boardName:(e.title||w.name)??"",boardUrl:e.url||w.url,isBoardlessPin:A,onHide:a,onUndo:()=>this.deleteSavedState({newPinId:I}),pinImageUrl:T.url}));else{let t=e=>{this.props.updateHeaderState?.({type:"showRepinAnimation",payload:e})};h.showOneToast(({hideToast:a})=>(0,J.jsx)(g.A,{boardId:e.boardId??"",boardUrl:e.url||w.url,firstBoardCreationExperimentEnabled:F?.startsWith("enabled"),imageUrl:d.images_474x?.url,onHide:a,showRepinAnimation:t,title:d.title,toastDuration:5e3}))}f("Save",{is_promoted:d.isPromoted,pin_id:d.entityId,repin_id:I}),o&&e.boardId!==o.id&&!A&&p(e.boardId??"",e.title??"",e.url??""),"function"==typeof a&&a(),setTimeout(()=>{this.boardSelectedRef.current?.focus()},0)}catch(t){let e=(0,S.A)(t,"message_detail")||(0,S.A)(t,"message")||"";(0,S.A)(t,"api_error_code")===E.f8?m():r||h.showToast(({hideToast:t})=>(0,J.jsx)(C.A,{dataTestId:"pin-save-error-toast",duration:5e3,onHide:t,text:e})),this.resetPinSavedState()}}),eP(this,"hideFlyout",(e=!1)=>{let{onToggleFlyout:t}=this.props;this.setState({showBoardFlyout:!1}),t&&t(!1,e)})}componentDidMount(){(0,r.A)("PinBetterSave","/app/www/common/PinBetterSave/PinBetterSave.tsx");let{autoQuicksaveCallback:e,onMount:t,shouldAutoQuicksave:a}=this.props;this.updateSelectedItem(),t&&t(),a&&(this.save({item:{boardId:"",url:"/me/",title:"Profile",type:"boardless"}}),e?.())}componentDidUpdate(){this.state.hasItemSelected||this.updateSelectedItem(),this.props.saveToBoardFromPostDownloadUpsell&&(this.showFlyout(),this.props.setSaveToBoardFromPostDownloadUpsell?.(!1))}getPinResource(e){let{carouselData:t,clientTrackingParams:a,pin:l,getStringifiedCommerceAuxData:n,shuffleAsset:i,currentHistoryStack:s,viewer:r}=this.props,o=t&&t.index,{trafficSource:d}=(0,p.A)(s,r?.isAuth??!1),c={carousel_slot_index:o||0,clientTrackingParams:a,description:l.description||"",image_base64:l.imageBase64,is_buyable_pin:!1,is_promoted:l.isPromoted,is_removable:l.promotedIsRemovable,link:l.link,pin_id:l.entityId||"",title:l.title||"",aux_data:{source:d},...i?{shuffle_asset:i.entityId}:{},...e.boardId&&"boardless"!==e.type?{board_id:e.boardId}:null,...e.sectionId?{section:e.sectionId}:null,...n(),...e.boardPickerSuggestedBoards?{aux_data:{board_picker_suggested_boards:e.boardPickerSuggestedBoards}}:{}};return _.A.create("RepinResource",c)}showFlyout(){let{onToggleFlyout:e}=this.props;this.setState({showBoardFlyout:!0}),e&&e(!0,!0)}isViewerEligibleForBoardCollabUpsell(e){let{viewer:t}=this.props;if(t?.isAuth&&e){if(!(0,B.A)(m.$0))return!1;let a=(0,F.y1)().getItem(m.$0)||"0",l=new Date,n=Number(a)<l.getTime()-6048e5,i=(t.boardCount??0)>=2&&(t.pinCount??0)>=3,s=!e.is_collaborative&&!!e.url&&e.url.split("/")[1]===t.username;return i&&s&&n}return!1}render(){let{boardResource:e,carouselData:t,clientTrackingParams:a,hideAlreadySavedMsg:l,onToggleModal:n,pin:i,popoverId:s,renderPinSaveTooltip:r,renderSavedStatus:o,savedInfo:d,savedCutout:c,selectedItem:_,unselectedText:p,variant:h,viewParameter:g,viewType:m,hideDropdown:f,showSaveToProfile:b,shuffleAsset:y,nodeRef:A,surface:S}=this.props,{boardWithSection:P,showBoardFlyout:C,showRepinModal:I,sensitiveContentNotice:k,suggestedBoardTitle:w}=this.state,T=d||c,{entityId:z,imageSignature:E}=i,{shouldAllowSaveToProfile:D,shouldSeePinBetterSave:F}=(0,ed.A)({dangerouslySkipActivation:!0}),B=(0,J.jsx)(V.K$,{boardResource:e,clientTrackingParams:a,hideAlreadySavedMsg:l,imageSignature:E,onBoardCreate:this.handleBoardCreate,onItemChosen:this.handleItemChosen,pinId:z,selectedItem:_,setBoardWithSection:this.setBoardWithSection,showSaveToProfile:b||D,surfaceOriginViewParameter:g}),R=()=>{this.logClickEvent({isSaveClick:!1}),this.deleteSavedState({newPinId:T?.localPinId??""})},{checkExperiment:N}=(0,j.A)();return(0,J.jsx)(v.A,{name:"PinBetterSave",children:(0,J.jsxs)(u.az,{ref:A??void 0,"data-test-id":"pin-better-save-button",display:["closeup","media-viewer"].includes(h)?"flex":void 0,height:"closeup"===h||"media-viewer"===h?void 0:60,children:[T?.title?(0,J.jsx)(el.A,{clientTrackingParams:a,currentCarouselIndex:t&&t.index,onDeleteSavedState:R,onEditSubmit:this.handleEditSubmit,onToggleModal:n,pinId:T.localPinId,shouldUseLegoStyles:!0,surface:S,variant:h,viewParameter:g,children:o&&T&&o({ref:this.boardSelectedRef,savedInfo:T,variant:h})}):(0,J.jsx)(H.A,{accessibilityControls:s,accessibilityExpanded:C,accessibilityHaspopup:!0,clientTrackingParams:a,dropdownRef:this.dropdownRef,hideDropdown:f,isSaved:!!T?.boardId,onBoardDropdownClick:this.handleBoardDropdownClick,onSaveClick:e=>this.handleSaveClick(e,F),promotedIsLeadAd:i.promotedIsLeadAd,renderPinSaveTooltip:r,selectedItem:F?void 0:_,selectedTitle:_?.title,showBoardFlyout:C,showPromoteBanner:this.props.showPromoteBanner,surface:S,unselectedText:p,variant:h,viewParameter:g,viewType:m}),(0,J.jsx)(eA,{action:"create",additionalCreateFields:{is_stl_pin:(i.shoppingFlags??[]).includes(2)},boardWithSection:P,clientTrackingParams:a,onClose:this.handleRepinHide,pinKey:i,setCompletionPromise:this.setBoardSaveCompletionPromise,shouldHideToast:this.state.showBoardCollabUpsell,shuffleAssetKey:y??null,urlPinInfo:null,children:({boardSavedTo:e,dismissModal:t,displaySuccessAnimation:a,handleAbort:l,handleNewBoardAnimationCompletion:n,handleSaveToBoard:s,newPin:r,updateDescription:o,modalTitle:d,setModalTitle:c})=>{let u,_;if(!I)return null;let p=(u=y?.cutoutImages_236x??i.images_236x,(_=u?.url)?{url:_,name:i.title||null}:null);return!P&&N("dweb_board_create_glowup").anyEnabled?(0,J.jsx)(L.A,{boardCreateSource:"board_picker",images:p?[p]:void 0,initialValues:{boardName:w},onBoardCreate:e=>{this.handleBoardCreated(e),s(e)},onClose:()=>{l(),setTimeout(()=>{this.dropdownRef.current?.focus()},0)}}):(0,J.jsx)(ev.A,{boardSavedTo:e,boardWithSection:P,dismissModal:()=>{t(),setTimeout(()=>{this.boardSelectedRef.current?.focus()},0)},displaySuccessAnimation:a,handleAbort:()=>{l(),setTimeout(()=>{this.dropdownRef.current?.focus()},0)},handleNewBoardAnimationCompletion:n,handleSaveToBoard:s,isInModal:!0,modalTitle:d,newPin:r,onBoardCreated:this.handleBoardCreated,pinKey:i,pwtAuxData:{pin_create_method:"repin"},sensitiveContentNotice:k,setModalTitle:c,shouldRenderContent:I,showCreate:!0,shuffleAssetKey:y??null,suggestedBoardTitle:w,updateDescription:o,urlPinInfo:null})}}),C&&(0,J.jsx)(u.Wd,{zIndex:new u.K5([en.y]),children:(0,J.jsx)(u.AM,{anchor:this.dropdownRef.current,id:s,idealDirection:"down",onDismiss:()=>{this.hideFlyout(),this.dropdownRef.current?.focus()},positionRelativeToAnchor:!1,size:"xl",children:B})}),(0,J.jsx)(x.A,{placementId:1000578})]})})}}eP(ek,"defaultProps",{variant:"pin",renderSavedStatus:({ref:e,savedInfo:t,variant:a})=>(0,J.jsx)(eI,{ref:e,savedInfo:t,variant:a})});let ew=(0,o.memo)(function({pinKey:e,shuffleAssetKey:t,surface:a,...l}){let{logContextEvent:n}=(0,f.o)(),i=(0,T.A)(),s=(0,o.useId)(),r=(0,c.zy)(),u=(0,k.A)(ex,e),_=(0,k.A)(eC,t),p=u.selectedItem,g=(0,D.A)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),m=(0,D.A)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:u.entityId,shortlist_length:1,num_shortlist_suggestions:1,suggestions_only:!0,min_confidence:.5}}),b=(0,eo.y)()?.onPinCreate,v=(0,R.CG)(),{showEmailVerificationReminderModal:S}=(0,A.cL)(),x=(0,I.A)(),C=(0,d.wA)(),z=(0,d.d4)(({mostRecentBoard:e})=>e),{previous:E}=(0,w.qD)(),F=(0,w.V)(),B=(0,d.d4)(({ui:e})=>e.postRepinMoreIdeasUpsell),N=u&&u.board?.layout!=="default",{initialSelection:L}=l,M=L?.title||"",U=!0,{showEnabledSaveBehavior:V}=(0,ec.Ay)(x.isAuth&&x.id||""),H=(0,P.Ts)(),{setAbortNoActionPlacementTimeout:$}=(0,O._G)(),{checkExperiment:q}=(0,j.A)(),{updateHeaderState:W}=(0,er.A)(),Y={boardId:"",title:i._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),type:"boardless",url:"/me/"},Q=(0,y.A)();if(!L){let e=m&&m.data&&m.data[0];L=u.board?.name&&!N&&x.isAuth&&u.board.owner?.entityId===x.id&&{title:u.board.name,boardId:u.board.entityId,url:u.board.url??""}||u.recommendationReason?.board&&{title:u.recommendationReason.board.name??"",boardId:u.recommendationReason.board.entityId??"",url:u.recommendationReason.board.url??""}||m&&m.isLoaded&&e&&{boardId:e.id,score:JSON.parse(e?.recommendation_reason??"{}").score,title:e.name,url:e.url}||m&&m.isLoaded&&!e&&V&&Y||m&&m.isLoaded&&!e&&z&&{boardId:z.id,title:z.name,url:z.url}||void 0,M=m&&m.isLoaded?i._('Select', 'BetterSave label to pick a board from the list', 'BetterSave label to pick a board from the list'):"...",U=!1}L?.url?.includes("_quick_saves")&&(L=Y);let X=(0,K.A)(u),Z=(0,o.useCallback)(e=>{let t="cutout"===l.variant?G.uW:G.UN;(0,eS.GV)(`web.closeup.media_viewer_stats.save.clicked_from.${l.variant}`),C(t(e))},[l.variant,C]),ee=(0,o.useCallback)(e=>{let t="cutout"===l.variant?G.ne:G.jI;(0,eS.GV)(`web.closeup.media_viewer_stats.unsave.clicked_from.${l.variant}`),C(t(e))},[l.variant,C]),{triggerVisitButtonAnimation:et}=(0,h.r)();return(0,J.jsx)(ek,{...l,addNewPinToPinsFeed:(e,t,a,l)=>{let n=a?em.A.BOARD_SECTION_PINS:em.A.BOARDFEED;l&&(n=em.A.BOARDLESS_PINS),C((0,ep.ZT)({feedId:e,feedType:n,itemIds:[t],itemType:"pin"}))},boardResource:g,carouselData:u&&u.carouselData,checkExperiment:q,currentHistoryStack:F,getStringifiedCommerceAuxData:X,i18n:i,incrementBoardPinCount:({boardId:e,sectionId:t})=>C((0,eu.zY)({boardId:e,sectionId:t,increment:1})),initialSelection:L,isLimitedLogin:x.isLimitedLogin,location:r,logContextEvent:n,mostRecentBoard:z,mountAfterActionPlacement:H,onPinCreate:b,onVisitButtonAnimate:et,pin:u,popoverId:s,postRepinMoreIdeasUpsell:B,postRepinUpsellDisabled:U,previousHistory:E,renderPinSaveTooltip:l.renderPinSaveTooltip,requireAuth:Q,save:Z,savedCutout:u.savedCutout??void 0,savedInfo:u.savedInfo??void 0,searchQueryInvalidated:e=>C((0,e_.KJ)(e)),selectBoardOrSection:e=>{C(("cutout"===l.variant?G.dD:G.PD)(e))},selectedItem:p??void 0,setAbortNoActionPlacementTimeout:$,setMostRecentBoard:(e,t,a)=>C((0,eh.x)(e,t,a)),showEmailVerificationReminderModal:S,showSaveToProfile:V,shuffleAsset:_,surface:a,toastManagerContext:v,unsave:ee,unselectedText:M,updateHeaderState:W,updateUserPinCount:e=>C((0,eg.LR)({userId:e,increment:1})),viewer:x,viewerUserId:x.isAuth?x.id:""})})},541322(e,t,a){a.d(t,{A:()=>o});var l=a(61163),n=a(859471),i=a(19821),s=a(889416),r=a(562615);function o(e){(0,n.useEffect)(()=>{(0,l.A)("SavedStatus","/app/www/common/PinBetterSave/SavedStatus.tsx")},[]);let{clientTrackingParams:t,children:a,currentCarouselIndex:o,hidePinRepEditButton:d=!1,onDeleteSavedState:c,onEditSubmit:u,onToggleModal:_,pinId:p,variant:h,viewParameter:g,shouldUseLegoStyles:m,surface:f}=e;return(0,r.jsxs)(i.az,{alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==h||m?void 0:2,width:"closeup"===h?"100%":void 0,children:[a&&(0,r.jsx)(i.az,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:a}),!d&&(0,r.jsx)(i.az,{flex:"none",marginStart:"auto",paddingX:1,children:(0,r.jsx)(s.default,{carouselSlotCurrentIndex:o,clientTrackingParams:t,component:0,onDelete:c,onSubmit:u,onToggleModal:_,pinId:p,shouldUseLegoStyles:m,style:"pin"===h?{bgColor:"default",iconColor:"default",size:"sm"}:{bgColor:"transparent",iconColor:"default",size:"sm"},surface:f,useLegoStyles:"pin"===h,viewParameter:g})})]})}},896575(e,t,a){a.d(t,{A:()=>d});var l=a(61163),n=a(859471),i=a(19821),s=a(562615);let r={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function o(){return(0,s.jsx)(i.az,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:800,width:"100%",children:(0,s.jsx)(i.az,{dangerouslySetInlineStyle:r,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function d({disabled:e,form:t,fullWidth:a,name:r,onClick:d,size:c,submitting:u,text:_}){return(0,n.useEffect)(()=>{(0,l.A)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,s.jsxs)(i.az,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[u&&(0,s.jsx)(o,{}),(0,s.jsx)(i.$n,{color:"primary",disabled:e||u,form:t,fullWidth:a,name:r,onClick:d,size:c,text:_,type:"submit"})]})}},762512(e,t,a){a.d(t,{A:()=>_,Y:()=>p});var l=a(979638),n=a(607126),i=a(601185),s=a(844255),r=a(430705),o=a(813985),d=a(224723),c=a(971289),u=a(106301);function _(e){let{resource:t}=p(e);return t}function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:a}=(0,i.A)(),{isAuthenticated:_}=(0,s._8)(),{pathname:p,search:h}=(0,l.zy)(),g=(0,c.qJ)(),m=!_||!g,f=(0,u.u)(),b=(0,n.A)(),y=(0,o.hr)({searchParams:f,sourceUrl:p+h,isDesktop:g,isAuthenticated:_,appliedUnifiedFilters:b}),A=m;m&&(A=!!_&&!a("unify_search_resource_auth_mweb").anyEnabled);let v=t||f.scope===d.cO.USERS&&!m||A;return{resource:(0,r.A)(v?null:y),options:y.options}}},424857(e,t,a){function l(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function n(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}a.d(t,{I4:()=>l,X2:()=>i,vb:()=>n});let i=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},94565(e,t,a){a.d(t,{A:()=>c});var l=a(427471),n=a(703672),i=a(671931),s=a(424857),r=a(513010),o=a(517750),d=a(504252);function c({boardId:e,sourceBoardId:t="",sourceSectionId:a="",name:c,nameSource:u,pinImport:_,initialPinIds:p=[]},h,g,m){let f=0;"RECOMMENDATION"===u?f=1:"EDITED_RECOMMENDATION"===u&&(f=2);let b={board_id:e,initial_pins:_&&!_.all?_.pinIds:p,name:c,name_source:f,...g?{orbac_subject_id:g}:Object.freeze({})};return c=>l.A.create("BoardSectionResource",b).callCreate({showError:!1}).then(({resource_response:{data:l}})=>{m({event_type:7100,object_id_str:l.id}),c((0,s.I4)(e,l)),c((0,r.ZT)({feedId:e,feedType:d.A.BOARD_SECTIONS,itemIds:[l.id],itemType:"boardsection"})),c((0,i.A)(e,"pin_count")),c((0,n.Q5)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:g}));let{all:u,pinIds:p}=_||{all:!1,pinIds:[]};return u?new Promise((n,i)=>c((0,o.A)({inverseSelection:!0,selectedPinIds:p,source:{boardId:t||e,sectionId:a||null},target:{boardId:e,sectionId:l.id}},h)).then(()=>n(l)).catch(i)):(p.length>0&&c((0,r.J6)({feedId:e,feedType:d.A.BOARDFEED,itemIds:p,itemType:"pin"})),l)})}},955170(e,t,a){a.d(t,{Cv:()=>k,Im:()=>y,JQ:()=>I,XK:()=>f,ik:()=>b,lt:()=>g,mV:()=>m,s5:()=>A,sw:()=>S,tR:()=>w,y9:()=>v,z$:()=>C,z1:()=>x});var l,n,i,s,r,o,d,c=a(106386),u=a(825193),_=a(427471),p=a(586733),h=a(257300);let g=()=>{let e=(void 0!==l||(l=a(110619)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==l.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),[t]=(0,u.useMutation)(e),{logContextEvent:n}=(0,p.o)();return async(e,a,l)=>{let i={boardId:e,collaboratorIds:a,message:l||""};return await new Promise((a,l)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&l(i[0]),n({event_type:28,object_id_str:e}),a()},onError:e=>l(e)})})}},m=()=>{let e=(void 0!==n||(n=a(805326)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==n.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,p.o)();return async(e,a,n)=>{let i={boardId:e,emails:a,message:n||""};return await new Promise((a,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),l({event_type:28,object_id_str:e}),a()},onError:e=>n(e)})})}},f=()=>{let e=(void 0!==i||(i=a(921395)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==i.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,p.o)();return async(e,a)=>{let n={boardId:e,userId:a};return await new Promise((a,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),l({event_type:32,object_id_str:e}),a(t)},onError:e=>i(e)})})}};function b(e,t){return async a=>{await (0,h.A)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:t}}),a({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}})}}function y(e,t){return async a=>{await (0,h.A)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:t}}),a({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let A=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),v=()=>{let e=(void 0!==s||(s=a(883666)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==s.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,p.o)();return async e=>{let a={boardId:e};return await new Promise((n,i)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&i(a[0]),l({event_type:32,object_id_str:e}),n(t)},onError:e=>i(e)})})}},S=(e,t,a)=>async l=>{l(A(e,t)),(await _.A.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()).resource_response.error||a({event_type:32,object_id_str:e})};function P(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}let x=()=>{let e=(void 0!==r||(r=a(398907)).hash&&"9aa22a7713214239538142ad2c957cc3"!==r.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[t]=(0,u.useMutation)(e),l=(0,c.wA)();return async e=>{let a={boardId:e};return await new Promise((n,i)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&(l(P(e,!1)),i(a[0])),l(P(e,!0)),n(t)},onError:t=>{l(P(e,!1)),i(t)}})})}};function C(e,t){return a=>{(0,h.A)({url:"/v3/boards/{board}/collaborators/invite/{user}/",urlParams:{board:e,user:t},method:"DELETE"}).catch(()=>{a(P(e,!0))}),a(P(e,!1))}}let I=()=>{let e=(void 0!==o||(o=a(264770)).hash&&"c62e5df78917dd238b70f366f358d487"!==o.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,p.o)();return async(e,a,n)=>{let i={boardId:e,userId:a,ban:n||!1};return await new Promise((a,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),l({event_type:29,object_id_str:e}),a(t)},onError:e=>n(e)})})}},k=()=>{let e=(void 0!==d||(d=a(577762)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,p.o)();return async(e,a)=>{let n={board:e,collaboratorIds:[a]};return await new Promise((a,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),l({event_type:29,object_id_str:e}),a(t)},onError:e=>i(e)})})}},w=()=>{let e=I(),t=k();return(a,l,n)=>async()=>{let{invited_user:l,status:i,board:{id:s}}=a;l&&("accepted"===i?await t(s,l.id):await e(s,l.id,n))}}},402489(e,t,a){a.d(t,{x:()=>l});let l=(e,t,a)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:a}})},911346(e,t,a){a.d(t,{A:()=>g});var l=a(61163),n=a(859471),i=a(593451),s=a(668014),r=a(693154),o=a(601185),d=a(430705),c=a(870540),u=a(847753),_=a(310540),p=a(562615);let h=(0,n.lazy)(()=>Promise.all([a.e("55896"),a.e("96799"),a.e("31171")]).then(a.bind(a,848052)));function g(e){(0,n.useEffect)(()=>{(0,l.A)("EditPinModalLoader","/app/www/save/EditPinModal/EditPinModalLoader.tsx")},[]);let t=(0,c.A)(),a=(0,r.A)(),g=(0,u.H7)(a,t),m=(0,o.A)(),f=m?.checkExperiment("aid_exp_minified_edit_pin_fixes_2025_11").anyEnabled,b=(0,n.useMemo)(()=>f?(0,_.sH)(e.pinId,!0,g):void 0,[f,e.pinId,g]),y=(0,d.A)({name:"PinResource",options:f?b:(0,_.sH)(e.pinId,!0,g)}),A=(0,n.useMemo)(()=>f&&y.data?{type:"Legacy",data:y.data}:void 0,[f,y.data]);return(0,p.jsx)(s.A,{name:"SafeSuspense_EditPinModalLoader_EditPinModal",children:(0,p.jsx)(n.Suspense,{children:y?.data?(0,p.jsx)(i.m,{pinKey:f&&A?A:{type:"Legacy",data:y.data},children:(0,p.jsx)(h,{...e,pin:y.data,pinIsLoaded:y.isLoaded})}):null})})}},755782(e,t,a){a.d(t,{A:()=>s});var l=a(106386),n=a(586733),i=a(948641);let s=({pinId:e,carouselSlotCurrentIndexProp:t,component:a,setShowEditModal:s})=>{let r,{logContextEvent:o}=(0,n.o)(),d=(0,i.A)(),c=(0,l.d4)(({pins:e})=>e),{carousel_data:u}=c&&e&&c[e]||{},{index:_}=u||{};return void 0!==t&&(r=_||t||0),{onClick:({event:e})=>{d?d():(e.stopPropagation(),o({event_type:101,element:3,...a?{component:a}:Object.freeze({})}),s(!0))},carouselSlotCurrentIndex:r}}},310540(e,t,a){function l(e){return!!(e&&e.trim().length)}function n(e,t){let a=l(e),n=l(t);return(a||n)&&e!==t}a.d(t,{$H:()=>n,sH:()=>i});let i=(e,t,a)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...a?{orbac_subject_id:a}:Object.freeze({})})},952756(e,t,a){a.d(t,{A:()=>b});var l=a(61163),n=a(859471),i=a(106386),s=a(19821),r=a(743372),o=a(693154),d=a(538329),c=a(985761),u=a(870540),_=a(847753),p=a(896575),h=a(94565),g=a(562615);function m(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f extends n.Component{constructor(e){super(e),m(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:a,dispatch:l,completeCreateSectionAction:n,pinImport:i,viewer:s,orbacActingAs:r,logContextEvent:o}=this.props,d=(0,_.H7)(s,r);return this.setState({isSaving:!0}),l((0,h.A)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:a&&a.id,name:this.state.inputName.trim(),pinImport:i},this.props.i18n,d,o)).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),m(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:a}=this.state;[c.A.ENTER,c.A.NUMPAD_ENTER].includes(e.which)&&!t&&a.trim()&&this.onCreateSection()}),m(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),m(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:a,inputRef:l}=this.state;l&&(!t.inputRef||a)&&l.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:a,inputName:l,isSaving:n}=this.state,i=!!l.trim()&&!a;return(0,g.jsxs)(s.az,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:200,top:!0,width:"100%",children:[e&&(0,g.jsx)(s.az,{marginTop:3,paddingX:6,paddingY:3,children:(0,g.jsx)(s._Y,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,g.jsxs)(s.az,{padding:4,children:[(0,g.jsx)(s.az,{marginBottom:2,children:(0,g.jsx)(s.JU,{htmlFor:"sectionEditName",children:(0,g.jsx)(s.KJ,{color:a?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,g.jsx)(s.az,{children:(0,g.jsx)(s.az,{ref:this.handleInputRef,children:(0,g.jsx)(s.A_,{errorMessage:a||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:l})})})]}),(0,g.jsx)(s.so,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,g.jsx)(s.az,{padding:4,children:(0,g.jsx)(s.so,{alignItems:"stretch",justifyContent:"end",children:(0,g.jsx)(p.A,{disabled:!i||n,onClick:this.onCreateSection,submitting:n,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}componentDidMount(){(0,l.A)("CreateSectionPane","/app/www/save/pin-to-board/CreateSectionPane/CreateSectionPane.tsx")}}let b=function(e){let t=(0,i.wA)(),a=(0,d.A)(),l=(0,o.A)(),n=(0,u.A)();return(0,g.jsx)(f,{...e,dispatch:t,i18n:a,logContextEvent:(0,r.A)(),orbacActingAs:n,viewer:l})}},239092(e,t,a){a.d(t,{A:()=>o});var l=a(61163),n=a(859471),i=a(19821),s=a(598948),r=a(562615);function o({url:e,description:t,color:a}){return(0,n.useEffect)(()=>{(0,l.A)("ImagelessPinImage","/app/www/save/pin-to-board/ImagelessPinImage/ImagelessPinImage.tsx")},[]),a=a||"#8fa7bf",(0,r.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{background:a}},height:216,rounding:200,width:"100%",children:(0,r.jsxs)(i.az,{maxHeight:200,overflow:"hidden",padding:4,children:[e&&(0,r.jsx)(i.az,{marginBottom:2,children:(0,r.jsx)(i.KJ,{color:"inverse",size:"100",children:(0,s.A)(e).hostname||e})}),(0,r.jsx)(i.az,{maxHeight:144,children:(0,r.jsx)(i.KJ,{color:"inverse",overflow:"normal",weight:"bold",children:t})})]})})}},260787(e,t,a){a.d(t,{j:()=>l});let l={CUSTOM:0,HIDDEN:1,HOPE:2,LOVE:3,NONE:4}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/81988-c18a14a148f2ba9d.mjs.map